(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{BQDa:function(e,t,i){"use strict";i.d(t,"a",(function(){return V}));var o=i("YSh2"),s=i("gIcY"),r=i("p0Sj"),n=i("15JJ"),a=i("67Y/"),l=(i("F5nt"),i("YVao")),h=i("TrF3"),u=i("GOSO"),c=(i("HX77"),i("wd/R")),m=i("xhVv"),p=(i("QAha"),i("ylI6")),d=(i("yjdo"),i("QkSj"),i("QmtP")),g=(i("BswM"),i("uxEF")),f=i.n(g),V=function(){function e(e,t,i,r,n,a,h,u,c,d){this.formBuilder=e,this.valSer=t,this.servis=i,this.staffService=r,this._matDialog=n,this.snackbar=a,this._fuseSidebarService=h,this.autofilterservis=u,this.mediaObserver=c,this.settingService=d,this.isOpen=!1,this.responseData={status:"",response:""},this.visible=!0,this.claslar=new l.a,this.sc=p.a,this.selectable=!0,this.removable=!0,this.addOnBlur=!1,this.separatorKeysCodes=[o.g,o.c],this.fulldata=new m.j,this.user=[],this.telone=[],this.bankone=[],this.options=[],this.fruits=[],this.banka=new m.b,this.cocuk=new m.c,this.dokuman=new m.d,this.cari=new m.e,this.iletisim=new m.f,this.kimlik=new m.g,this.kisisel=new m.h,this.policeListesi=!1,this.offerListesi=!1,this.gelendata=new m.j,this.tabIndex=0,this.evlilik=!1,this.gercekTuzel=!0,this.Admin=!0,this.stepIletisim=!1,this.stepKisisel=!0,this.stepBanka=!0,this.sideMi=!1,this.profilo="./assets/images/avatars/profile.jpg",this.iconGenel="",this.iconIletisim="",this.iconKimlik="",this.iconKisisel="",this.iconBank="",this.durumGenel=0,this.durumIletisim=0,this.durumKimlik=0,this.durumKisisel=0,this.durumBank=0,this.iletisimGeldi=1,this.emailMask=f.a,this.hesapmask=[/\d/,/\d/,/\d/,/\d/,"*","*","*","*","*","*","*","*",/\d/,/\d/,/\d/,/\d/],this.ibanMask=[/[A-Z]/,/[A-Z]/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],this.currentBreakPoint="",this.isPhoto=!1,this.change1=!1,this.change2=!1,this.change3=!1,this.change4=!1,this.change5=!1,this.isPhotoChanged=!1,this.acceptableTypes=["jpg","jpeg","png"],this.Tanim=new s.FormControl(""),this.Tanim1=new s.FormControl(""),this.yeniden(),this.profilo="./assets/images/avatars/profilFoto.png"}return e.prototype.yeniden=function(){this.VStep1=this.formBuilder.group({ID:[""],PID:[""],Erisim:[0],AuthID:[],Aktifmi:[!0],CariID:[],SorumluID:[""],SorumluA:new s.FormControl,Unvan:["",s.Validators.required],TCNo:["",[s.Validators.required,d.a.tcValidator]],DepID:[""],DepA:new s.FormControl,etiket:new s.FormControl,Maas:[""],GirisTar:[""],CikisTar:[""],GorevID:[""],GorevA:new s.FormControl,MeslekID:[""],MeslekA:new s.FormControl,Notes:[""],SendMail:[""],SendSMS:[""],HasPhoto:[""],Profil:[""],ProfilData:[""],Durum:[""],RoleID:["",s.Validators.required],RoleTanim:["",s.Validators.required]}),this.VStep2=this.formBuilder.group({MPhones:new s.FormArray([]),HPhones:new s.FormArray([]),WPhones:new s.FormArray([]),DPhones:new s.FormArray([]),FPhones:new s.FormArray([]),Email:new s.FormArray([]),Web:new s.FormArray([]),Address:new s.FormArray([]),Location:new s.FormArray([]),addSelect:[""]}),this.VStep3=this.formBuilder.group({ID:[""],CariID:[""],AnaAdi:[""],UyrukA:new s.FormControl,UyrukID:[],BabaAdi:[""],SeriNo:[""],Cinsiyet:[""],DYeri:[""],DTarihi:[]}),this.VStep4=this.formBuilder.group({ID:[""],CariID:[""],MedeniHal:[""],EsAdi:[""],Kilo:[""],Boy:[""],EYDonumu:[],KanGrubu:[""],EDuzeyID:[""],Okul:[""],ODerece:[""],Kids:new s.FormArray([])}),this.VStep5=this.formBuilder.group({BankAcc:new s.FormArray([])}),this.VStep1Errors={ID:{},KartTuru:{},SendSMS:{},SendMail:{},CariKod:{},VergiTCNo:{},VergiDairesi:{},IlgiliKisi:{},MeslekA:{},MeslekID:{},etiket:{},UserID:{},CariGrupA:{},CariGrupID:{},ReferansA:{},ReferansID:{},CariUnvan:{},OzelKod:{},PassportNo:{},MuhKodu:{},StaffID:{},StaffA:{},Active:{},Sifre:{},Notes:{},HasPhoto:{}},this.VStep2Errors={},this.VStep3Errors={AnaAdi:{},Uyruk:{},BabaAdi:{},SeriNo:{},Cinsiyet:{},DYeri:{},DTarihi:{}},this.VStep4Errors={MedeniHal:{},EsAdi:{},Kilo:{},Boy:{},EYDonumu:{},KanGrubu:{}}},e.prototype.tabChanged=function(e){this.staffService.sidePolicy=!1,this.staffService.sideOffer=!1,this.staffService.sideStaffAccount=!1,this.staffService.sideBalance=!1,0==e?this.getData(this.PersonelID,"genel",this.CariID):1==e?this.getData(this.CariID,this.PersonelID,"iletişim"):2==e?this.getData(this.CariID,this.PersonelID,"kimlik"):3==e?this.getData(this.CariID,this.PersonelID,"kişisel"):4==e?this.getData(this.CariID,this.PersonelID,"banka"):5==e?this.staffService.sidePolicy=!0:6==e?this.staffService.sideOffer=!0:8==e&&(this.staffService.sideStaffAccount=!0,this.staffService.sideBalance=!0)},e.prototype.ilkTepki=function(e,t,i){this.isPhotoChanged=!1,this.resetAll(),this.staffService.sidePolicy=!1,this.staffService.sideOffer=!1,this.staffService.sideStaffAccount=!1,this.staffService.sideBalance=!1,this.resetAll(),"genel"==i?(this.getData(e,t,"genel"),this.tabIndex=0):"Teklifler"==i?(this.tabIndex=6,this.staffService.sideOffer=!0):"Poliçler"==i&&(this.tabIndex=5,this.staffService.sidePolicy=!0)},e.prototype.getData=function(e,t,i){var o=this;this.CariID=e,this.PersonelID=t;var s=0,r=0,n=0,a=0,l=0,h=0,u=0,c=0,m=0,d=0,g=0;this.staffService.getPer(e,t,i).subscribe((function(e){if(o.autofilterservis.fuel=!1,o.gelendata=e,"genel"==i)o.VStep1.controls.Aktifmi.setValue(1==o.gelendata.genel[0].Active?"true":"false"),o.VStep1.patchValue(o.gelendata.genel[0]),o.PersonelID=e.genel[0].PID,o.VStep1.get("GirisTar").setValue(p.a.DtoM(o.gelendata.genel[0].GirisTar)),null!=o.gelendata.genel[0].CikisTar&&o.VStep1.get("CikisTar").setValue(p.a.DtoM(o.gelendata.genel[0].CikisTar)),o.VStep1.get("Maas").setValue(p.a.ntov(o.gelendata.genel[0].Maas)),o.iconGenel="list",setTimeout((function(){o.change1=!1,o.orjinalData1=o.VStep1.value}),300),p.a.setDirty(o.VStep1),o.staffService.getPhoto({id:o.CariID}).subscribe((function(e){null!=e.pic&&""!=e.pic?(o.profilo=e.pic,o.isPhoto=!0):o.profilo="./assets/images/avatars/profilFoto.png"}));else if("iletişim"==i){if(o.iletisimGeldi=0,null!=o.gelendata.iletisim||null!=o.gelendata.iletisim){s=Object.keys(o.gelendata.iletisim).length;for(var t=o.VStep2.controls.HPhones,f=o.VStep2.controls.WPhones,V=o.VStep2.controls.DPhones,S=o.VStep2.controls.FPhones,C=o.VStep2.controls.MPhones,v=o.VStep2.controls.Email,D=o.VStep2.controls.Web,w=o.VStep2.controls.Address,F=o.VStep2.controls.Location;C.length;)C.removeAt(C.length-1);for(;t.length;)t.removeAt(t.length-1);for(;f.length;)f.removeAt(f.length-1);for(;V.length;)V.removeAt(V.length-1);for(;S.length;)S.removeAt(S.length-1);for(;v.length;)v.removeAt(v.length-1);for(;D.length;)D.removeAt(D.length-1);for(;w.length;)w.removeAt(w.length-1);for(;F.length;)F.removeAt(F.length-1);for(;s-r>0;)"1"==o.gelendata.iletisim[r].IletisimTuru?(o.onMPhones(),C.at(n).patchValue(o.gelendata.iletisim[r]),C.at(n).get("Deger").setValue(p.a.pipePhone(o.gelendata.iletisim[r].Deger)),p.a.tamamVar(C.at(n).get("Deger"),C.at(n).get("Aciklama"),14),C.at(n).get("Deger").markAsDirty(),C.at(n).get("Aciklama").markAsDirty(),n++):"2"==o.gelendata.iletisim[r].IletisimTuru?(o.onHPhones(),t.at(a).patchValue(o.gelendata.iletisim[r]),t.at(a).get("Deger").setValue(p.a.pipePhone(o.gelendata.iletisim[r].Deger)),p.a.tamamVar(t.at(a).get("Deger"),t.at(a).get("Aciklama"),14),t.at(a).get("Deger").markAsDirty(),t.at(a).get("Aciklama").markAsDirty(),a++):"3"==o.gelendata.iletisim[r].IletisimTuru?(o.onWPhones(),f.at(l).patchValue(o.gelendata.iletisim[r]),f.at(l).get("Deger").setValue(p.a.pipePhone(o.gelendata.iletisim[r].Deger)),p.a.tamamVar(f.at(l).get("Deger"),f.at(l).get("Aciklama"),14),f.at(l).get("Deger").markAsDirty(),f.at(l).get("Aciklama").markAsDirty(),l++):"8"==o.gelendata.iletisim[r].IletisimTuru?(o.onFPhones(),S.at(h).patchValue(o.gelendata.iletisim[r]),S.at(h).get("Deger").setValue(p.a.pipePhone(o.gelendata.iletisim[r].Deger)),p.a.tamamVar(S.at(h).get("Deger"),S.at(h).get("Aciklama"),14),S.at(h).get("Deger").markAsDirty(),S.at(h).get("Aciklama").markAsDirty(),h++):"5"==o.gelendata.iletisim[r].IletisimTuru?(o.onEmail(),v.at(u).patchValue(o.gelendata.iletisim[r]),p.a.tamamVar(v.at(u).get("Deger"),v.at(u).get("Aciklama"),10),v.at(u).get("Deger").markAsDirty(),v.at(u).get("Aciklama").markAsDirty(),u++):"4"==o.gelendata.iletisim[r].IletisimTuru?(o.onWeb(),D.at(c).patchValue(o.gelendata.iletisim[r]),p.a.tamamVar(D.at(c).get("Deger"),D.at(c).get("Aciklama"),10),D.at(c).get("Deger").markAsDirty(),D.at(c).get("Aciklama").markAsDirty(),c++):"6"==o.gelendata.iletisim[r].IletisimTuru?(o.onAddress(),w.at(m).patchValue(o.gelendata.iletisim[r]),p.a.tamamVariki(w.at(m).get("Deger"),w.at(m).get("Ulke"),w.at(m).get("Aciklama")),p.a.secimAdrTamam(w.at(m).get("Ulke"),w.at(m).get("Il")),p.a.secimAdrTamam(w.at(m).get("IL"),w.at(m).get("Ilce")),w.at(m).get("Ilce").enable(),w.at(m).get("Deger").markAsDirty(),w.at(m).get("Aciklama").markAsDirty(),m++):"7"==o.gelendata.iletisim[r].IletisimTuru?(o.onLocation(),F.at(d).patchValue(o.gelendata.iletisim[r]),p.a.tamamVar(F.at(d).get("Deger"),F.at(d).get("Aciklama"),10),d++):"9"==o.gelendata.iletisim[r].IletisimTuru&&(o.onDPhones(),V.at(g).patchValue(o.gelendata.iletisim[r]),V.at(g).get("Deger").setValue(o.gelendata.iletisim[r].Deger),p.a.tamamVar(V.at(g).get("Deger"),V.at(g).get("Aciklama"),1),V.at(g).get("Deger").markAsDirty(),V.at(g).get("Aciklama").markAsDirty(),g++),r++;""==o.iconIletisim?o.iconIletisim="list":"playlist_add"==o.iconIletisim?o.iconIletisim="playlist_add_check":"list"==o.iconIletisim&&(o.iconIletisim="playlist_add_check"),o.sc.setDirtyArr(t),o.sc.setDirtyArr(f),o.sc.setDirtyArr(V),o.sc.setDirtyArr(S),o.sc.setDirtyArr(C),o.sc.setDirtyArr(v),o.sc.setDirtyArr(D),o.sc.setDirtyArr(w),o.sc.setDirtyArr(F)}o.iletisimGeldi=1,setTimeout((function(){o.change2=!1,o.orjinalData2=o.VStep2.value}),300),p.a.setDirty(o.VStep2)}else if("kimlik"==i)(s=Object.keys(o.gelendata.kimlik).length)>0&&o.VStep3.patchValue(o.gelendata.kimlik[0]),setTimeout((function(){o.change3=!1,o.orjinalData3=o.VStep3.value}),300),p.a.setDirty(o.VStep3),o.iconKimlik="list";else if("kişisel"==i){(s=Object.keys(o.gelendata.kisisel).length)>0&&o.VStep4.patchValue(o.gelendata.kisisel[0]),r=0,s=Object.keys(o.gelendata.cocuk).length;for(var k=o.VStep4.controls.Kids;k.length;)k.removeAt(k.length-1);for(;s-r>0;)o.onKids(),k.at(r).patchValue(o.gelendata.cocuk[r]),r++;""==o.iconKisisel?o.iconKisisel="list":"playlist_add"==o.iconKisisel?o.iconKisisel="playlist_add_check":"list"==o.iconKisisel&&(o.iconKisisel="playlist_add_check"),setTimeout((function(){o.change4=!1,o.orjinalData4=o.VStep4.value}),300),p.a.setDirty(o.VStep4)}else if("banka"==i){r=0,s=Object.keys(o.gelendata.banka).length;for(var I=o.VStep5.controls.BankAcc;I.length;)I.removeAt(I.length-1);for(;s-r>0;)o.onBanks(),I.at(r).patchValue(o.gelendata.banka[r]),p.a.secimAdrTamam(I.at(r).get("BankName"),I.at(r).get("BranchName")),r++;""==o.iconBank?o.iconBank="list":"playlist_add"==o.iconBank?o.iconBank="playlist_add_check":"list"==o.iconBank&&(o.iconBank="playlist_add_check"),setTimeout((function(){o.change5=!1,o.orjinalData5=o.VStep5.value}),300),p.a.setDirty(o.VStep5)}setTimeout((function(){o.autofilterservis.fuel=!0}),1e3)}),(function(e){console.error(e,"error")}))},e.prototype.ngAfterViewInit=function(){var e=this;this.mediaObserver.media$.subscribe((function(t){e.mediaStatus=t.mqAlias})),this.mediaObserver.asObservable().subscribe((function(t){e.currentBreakPoint=t[0].mqAlias}))},e.prototype.onSubmitGenel=function(){var e=this;this.durumGenel=0,this.iconGenel="playlist_add_check",this.fulldata=new m.j,this.fulldata.id=this.CariID,this.fulldata.p=this.PersonelID,this.fulldata.form="genel",this.fulldata.genel=this.VStep1.value,this.fulldata.genel.Maas=p.a.vton(this.VStep1.controls.Maas.value),this.fulldata.genel.Active=1==this.VStep1.controls.Aktifmi.value?1:0,this.fulldata.genel.CikisTar=c(this.VStep1.get("CikisTar").value).isValid()?c(this.VStep1.get("CikisTar").value).format("YYYY-MM-DD"):null,this.fulldata.genel.GirisTar=c(this.VStep1.get("GirisTar").value).isValid()?c(this.VStep1.get("GirisTar").value).format("YYYY-MM-DD"):null,this.fulldata.genel.KartTuru=1,this.fulldata.genel.VergiTCNo=this.VStep1.get("TCNo").value,this.fulldata.genel.CariUnvan=this.VStep1.controls.Unvan.value?this.VStep1.controls.Unvan.value.trim():"İsimsiz",this.fulldata.genel.Unvan=this.VStep1.controls.Unvan.value?this.VStep1.controls.Unvan.value.trim():"İsimsiz",this.fulldata.etiket=this.fruits,this.staffService.editUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.servis.snackGeneral("Personel Güncelleme","Başarılı!","success","toast-top-right",!1,!0),e.staffService.isCRUDChange=!0,"./assets/images/avatars/profilFoto.png"!=e.profilo&&e.isPhotoChanged&&e.staffService.upPhoto({id:e.CariID,pic:e.profilo}).subscribe((function(t){1==t.response?(e.isPhoto=!0,e.getData(e.CariID,e.staffService.staffAuthID,"genel")):(e.getData(e.CariID,e.staffService.staffAuthID,"genel"),e.servis.snackGeneral("Fotoğraf Güncelleme","Hata!","error","toast-top-right",!1,!0)),e.isPhotoChanged=!1})),e.durumGenel=0,e.iconGenel="playlist_add_check"):"2"==e.responseData.response&&(e.durumGenel=1,e.iconGenel="playlist_add",e.servis.snackGeneral("Personel Güncelleme","Hata!","error","toast-top-right",!1,!0))}),(function(e){console.error(e,"error")}))},e.prototype.onSubmitIletisim=function(){var e=this;this.fulldata=new m.j,this.fulldata.id=this.CariID,this.fulldata.p=this.PersonelID,this.fulldata.form="iletişim",p.a.fomTelRep(this.VStep2.get("MPhones")),p.a.fomTelRep(this.VStep2.get("HPhones")),p.a.fomTelRep(this.VStep2.get("WPhones")),p.a.fomTelRep(this.VStep2.get("FPhones")),this.fulldata.iletisim=this.VStep2.get("MPhones").value.concat(this.VStep2.get("HPhones").value).concat(this.VStep2.get("WPhones").value).concat(this.VStep2.get("DPhones").value).concat(this.VStep2.get("FPhones").value).concat(this.VStep2.get("Email").value).concat(this.VStep2.get("Web").value).concat(this.VStep2.get("Address").value).concat(this.VStep2.get("Location").value),this.staffService.editUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.staffService.isCRUDChange=!0,e.durumIletisim=0,e.getData(e.CariID,e.staffService.staffAuthID,"iletişim"),e.servis.snackGeneral("Personel Güncelleme","Başarılı!","success","toast-top-right",!1,!0),e.iconIletisim="playlist_add_check"):"2"==e.responseData.response&&e.servis.snackGeneral("Personel Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}),(function(e){console.error(e,"error")}))},e.prototype.onSubmitKimlik=function(){var e=this;this.fulldata=new m.j,this.fulldata.id=this.CariID,this.fulldata.p=this.PersonelID,this.fulldata.form="kimlik",this.fulldata.kimlik=this.VStep3.value,this.fulldata.kimlik.DTarihi=c(this.VStep3.get("DTarihi").value).isValid()?c(this.VStep3.get("DTarihi").value).format("YYYY-MM-DD"):null,this.staffService.editUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.staffService.isCRUDChange=!0,e.durumKimlik=0,e.change3=!1,e.getData(e.CariID,e.staffService.staffAuthID,"kimlik"),e.servis.snackGeneral("Personel Güncelleme","Başarılı!","success","toast-top-right",!1,!0),e.iconKimlik="playlist_add_check"):"2"==e.responseData.response&&e.servis.snackGeneral("Personel Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}),(function(t){e.servis.snackGeneral("Personel Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}))},e.prototype.onSubmitKisisel=function(){var e=this;this.fulldata=new m.j,this.fulldata.id=this.CariID,this.fulldata.p=this.PersonelID,this.fulldata.form="kişisel",this.kisisel.MedeniHal=this.VStep4.get("MedeniHal").value,this.kisisel.ID=this.VStep4.get("ID").value,this.kisisel.PersonelID=this.VStep4.get("CariID").value,this.kisisel.KanGrubu=this.VStep4.get("KanGrubu").value,this.kisisel.EYDonumu=c(this.VStep4.get("EYDonumu").value).isValid()?c(this.VStep4.get("EYDonumu").value).format("YYYY-MM-DD"):null,this.kisisel.EsAdi=this.VStep4.get("EsAdi").value,this.kisisel.Boy=this.VStep4.get("Boy").value,this.kisisel.Kilo=this.VStep4.get("Kilo").value,this.fulldata.kisisel=this.kisisel,this.fulldata.cocuk=this.VStep4.get("Kids").value,this.staffService.editUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.staffService.isCRUDChange=!0,e.servis.snackGeneral("Personel Güncelleme","Başarılı!","success","toast-top-right",!1,!0),e.durumKisisel=0,e.getData(e.CariID,e.staffService.staffAuthID,"kişisel"),e.iconKisisel="playlist_add_check"):"2"==e.responseData.response&&e.servis.snackGeneral("Personel Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}),(function(t){e.servis.snackGeneral("Personel Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}))},e.prototype.onSubmitBanks=function(){var e=this;this.fulldata=new m.j,this.fulldata.id=this.CariID,this.fulldata.p=this.PersonelID,this.fulldata.form="banka",this.fulldata.banka=this.VStep5.get("BankAcc").value,this.staffService.editUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.staffService.isCRUDChange=!0,e.servis.snackGeneral("Personel Güncelleme","Başarılı!","success","toast-top-right",!1,!0),e.durumBank=0,e.getData(e.CariID,e.staffService.staffAuthID,"banka"),e.iconBank="playlist_add_check"):"2"==e.responseData.response&&e.servis.snackGeneral("Personel Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}),(function(t){e.servis.snackGeneral("Personel Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}))},e.prototype.ngOnInit=function(){var e=this;this.staffService.isCRUDChange=!1,this.evlilik=!1,this.VStep1.valueChanges.subscribe((function(){e.onFormValuesChanged(),1==e.durumGenel&&(e.iconGenel="playlist_add")})),this.VStep2.valueChanges.subscribe((function(){e.onFormValuesChanged(),1==e.durumIletisim&&(e.iconIletisim="playlist_add")})),this.VStep3.valueChanges.subscribe((function(){e.onFormValuesChanged(),1==e.durumKimlik&&(e.iconKimlik="playlist_add")})),this.VStep4.valueChanges.subscribe((function(){e.onFormValuesChanged(),1==e.durumKisisel&&(e.iconKisisel="playlist_add")})),this.VStep5.valueChanges.subscribe((function(){e.onFormValuesChanged(),1==e.durumBank&&(e.iconBank="playlist_add")}))},e.prototype.onMedeni=function(e){this.evlilik="E"==e},e.prototype.onMPhones=function(){this.VStep2.controls.MPhones.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("1"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(14),s.Validators.maxLength(14)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&p.a.VBasYap(this.VStep2.get("MPhones"))},e.prototype.onHPhones=function(){this.VStep2.controls.HPhones.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("2"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(10),s.Validators.maxLength(14)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&p.a.VBasYap(this.VStep2.get("HPhones"))},e.prototype.onWPhones=function(){this.VStep2.controls.WPhones.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("3"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(10),s.Validators.maxLength(14)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&p.a.VBasYap(this.VStep2.get("WPhones"))},e.prototype.onFPhones=function(){this.VStep2.controls.FPhones.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("8"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(10),s.Validators.maxLength(14)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&p.a.VBasYap(this.VStep2.get("FPhones"))},e.prototype.onDPhones=function(){this.VStep2.controls.DPhones.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("9"),Deger:new s.FormControl("",[s.Validators.required]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&p.a.VBasYap(this.VStep2.get("DPhones"))},e.prototype.onEmail=function(){this.VStep2.controls.Email.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("5"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(5)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&p.a.VBasYap(this.VStep2.get("Email"))},e.prototype.onWeb=function(){this.VStep2.controls.Web.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("4"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(5)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&p.a.VBasYap(this.VStep2.get("Web"))},e.prototype.onAddress=function(){var e=this;if(this.VStep2.controls.Address.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("6"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(5)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl({value:"",disabled:!0}),IlID:new s.FormControl,Ilce:new s.FormControl({value:"",disabled:!0}),IlceID:new s.FormControl,Ulke:new s.FormControl({value:"",disabled:!0}),UlkeID:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),this.VStep2.controls.Address.length>=1)for(var t=function(t){i.filteredCountry=t.controls.Ulke.valueChanges.pipe(Object(r.a)("Türkiye"),Object(n.a)((function(t){return null!=t&&t.trim().length>0?e.staffService.getCountries(t.trim()):[]})),Object(a.a)((function(e){return null!=e[0]&&(t.controls.UlkeID.value=e[0].id),e}))),i.filteredCity=t.controls.Il.valueChanges.pipe(Object(n.a)((function(i){return null!=i&&i.trim().length>0?e.staffService.getCities(i.trim(),t.controls.UlkeID.value):[]})),Object(a.a)((function(e){return null!=e[0]&&(t.controls.IlID.value=e[0].id),e}))),i.filteredState=t.controls.Ilce.valueChanges.pipe(Object(n.a)((function(i){return null!=i&&i.trim().length>0?e.staffService.getTowns(i.trim(),t.controls.IlID.value):[]})),Object(a.a)((function(e){return null!=e[0]&&(t.controls.IlceID.value=e[0].id),e})))},i=this,o=0,l=this.VStep2.controls.Address.controls;o<l.length;o++)t(l[o]);1==this.iletisimGeldi&&p.a.VBasYap(this.VStep2.get("Address"))},e.prototype.onLocation=function(){this.VStep2.controls.Location.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("7"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(5)]),Aciklama:new s.FormControl,Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&p.a.VBasYap(this.VStep2.get("Location"))},e.prototype.onKids=function(){this.VStep4.controls.Kids.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),TCNo:new s.FormControl("",[s.Validators.required,d.a.tcValidator]),CocukAdi:new s.FormControl("",[s.Validators.required,s.Validators.minLength(5)]),DYeri:new s.FormControl,DTarihi:new s.FormControl,EMail:new s.FormControl,Telefon:new s.FormControl,Boy:new s.FormControl,Kilo:new s.FormControl,Cinsiyet:new s.FormControl})),this.stepKisisel=!1},e.prototype.onBanks=function(){var e=this;if(this.VStep5.controls.BankAcc.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),HesapTuru:new s.FormControl("",[s.Validators.required]),BankName:new s.FormControl("",[s.Validators.required]),BankCode:new s.FormControl,BranchName:new s.FormControl("",[s.Validators.required]),BranchCode:new s.FormControl,HesapNo:new s.FormControl("",[s.Validators.required]),IBAN:new s.FormControl,HesapSahibi:new s.FormControl("",[s.Validators.required]),Active:new s.FormControl})),this.VStep5.controls.BankAcc.length>=1)for(var t=function(t){i.filteredBank=t.controls.BankName.valueChanges.pipe(Object(n.a)((function(t){return null!=t&&t.trim().length>0?e.staffService.getBanks(t.trim()):[]})),Object(a.a)((function(e){if(null!=e[0])return t.controls.BankCode.value=e[0].BankaKodu,e}))),i.filteredBranch=t.controls.BranchName.valueChanges.pipe(Object(n.a)((function(i){return null!=i&&i.trim().length>0?e.staffService.getBranchs(i.trim(),t.controls.BankCode.value):[]})),Object(a.a)((function(e){if(null!=e[0])return t.controls.BranchCode.value=e[0].SubeKodu,e})))},i=this,o=0,r=this.VStep5.controls.BankAcc.controls;o<r.length;o++)t(r[o]);this.stepBanka=!1},e.prototype.selectchange=function(e){this.selvalue=e,1==this.selvalue?this.onMPhones():2==this.selvalue?this.onHPhones():3==this.selvalue?this.onWPhones():8==this.selvalue?this.onFPhones():5==this.selvalue?this.onEmail():4==this.selvalue?this.onWeb():6==this.selvalue?this.onAddress():7==this.selvalue?this.onLocation():9==this.selvalue&&this.onDPhones(),this.stepIletisim=this.VStep2.controls.MPhones.length+this.VStep2.controls.HPhones.length+this.VStep2.controls.WPhones.length+this.VStep2.controls.DPhones.length+this.VStep2.controls.FPhones.length+this.VStep2.controls.Email.length+this.VStep2.controls.Web.length+this.VStep2.controls.Address.length+this.VStep2.controls.Location.length<=1},e.prototype.removeLine=function(e,t,i){null!=t.get(i).value[e].ID?this.openPromt(e,t,i):t.get(i).removeAt(e),t==this.VStep2&&p.a.VBasYap(this.VStep2.get(i));var o=this.VStep2.controls.MPhones.length+this.VStep2.controls.HPhones.length+this.VStep2.controls.WPhones.length+this.VStep2.controls.DPhones.length+this.VStep2.controls.FPhones.length+this.VStep2.controls.Email.length+this.VStep2.controls.Web.length+this.VStep2.controls.Address.length+this.VStep2.controls.Location.length;this.stepIletisim=o<=1,this.stepIletisim=o<=1,this.stepKisisel=this.VStep4.controls.Kids.length<=1},e.prototype.openPromt=function(e,t,i){var o=this;this._matDialog.open(u.a,{width:"250px",data:{Status:"Veri Silinsin mi!!",Data:this.submitData}}).afterClosed().subscribe((function(s){1==o.servis.promtControl&&("MPhones"==i||"HPhones"==i||"WPhones"==i||"FPhones"==i||"DPhones"==i||"Email"==i||"Web"==i||"Address"==i||"Location"==i?o.staffService.delCustomer(t.get(i).value[e].ID,"iletişim").subscribe((function(s){o.responseData=s,"1"==o.responseData.response?(o.staffService.isCRUDChange=!0,o.servis.snackGeneral("Personel Bilgisi Silme","Başarılı!","success","toast-top-right",!1,!0),o.iconIletisim="playlist_add_check",o.durumIletisim=0,t.get(i).removeAt(e)):"2"==o.responseData.response&&(o.submitStatus="Hata",o.servis.snackGeneral("Personel Bilgisi Silme","Bir Hata Oluştu!","error","toast-top-right",!1,!0))})):"Kids"==i?o.staffService.delCustomer(t.get(i).value[e].ID,"çocuk").subscribe((function(s){o.responseData=s,"1"==o.responseData.response?(o.staffService.isCRUDChange=!0,o.servis.snackGeneral("Personel Bilgisi Silme","Başarılı!","success","toast-top-right",!1,!0),o.iconKisisel="playlist_add_check",o.durumKisisel=0,t.get(i).removeAt(e)):"2"==o.responseData.response&&o.servis.snackGeneral("Personel Bilgisi Silme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)})):"BankAcc"==i&&o.staffService.delCustomer(t.get(i).value[e].ID,"banka").subscribe((function(s){o.responseData=s,"1"==o.responseData.response?(o.staffService.isCRUDChange=!0,o.servis.snackGeneral("Personel Bilgisi Silme","Başarılı!","success","toast-top-right",!1,!0),o.iconBank="playlist_add_check",o.durumBank=0,t.get(i).removeAt(e)):"2"==o.responseData.response&&o.servis.snackGeneral("Personel Bilgisi Silme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)})))}))},e.prototype.onSearchChange=function(e){},e.prototype.onBack=function(e){this._fuseSidebarService.getSidebar(e).close(),this.servis.setTitle("Personel Listesi")},e.prototype.resetAll=function(){this.VStep1.reset(),p.a.removeAll(this.VStep2.controls.MPhones),p.a.removeAll(this.VStep2.controls.HPhones),p.a.removeAll(this.VStep2.controls.WPhones),p.a.removeAll(this.VStep2.controls.DPhones),p.a.removeAll(this.VStep2.controls.FPhones),p.a.removeAll(this.VStep2.controls.Email),p.a.removeAll(this.VStep2.controls.Web),p.a.removeAll(this.VStep2.controls.Address),p.a.removeAll(this.VStep2.controls.Location),this.VStep2.reset(),this.VStep3.reset(),p.a.removeAll(this.VStep4.controls.Kids),this.VStep4.reset(),p.a.removeAll(this.VStep5.controls.BankAcc),this.VStep5.reset(),this.fruits=[],this.iconGenel="",this.iconIletisim="",this.iconKimlik="",this.iconKisisel="",this.iconBank="",this.durumGenel=0,this.durumIletisim=0,this.durumKimlik=0,this.durumKisisel=0,this.durumBank=0,this.profilo="./assets/images/avatars/profilFoto.png"},e.prototype.openDialog=function(){var e=this;this._matDialog.open(h.a,{width:"250px",data:{Status:this.submitStatus,Data:this.submitData}}).afterClosed().subscribe((function(t){e.submitData=t}))},e.prototype.openSnackBar=function(e,t,i,o,s){this.snackbar.open(e,"X",{duration:t,horizontalPosition:i,verticalPosition:o,panelClass:[s]})},e.prototype.add=function(e){var t=e.input,i=e.value;(i||"").trim()&&(this.fruits.length>4||this.fruits.push({name:i.trim()})),t&&(t.value="")},e.prototype.remove=function(e){var t=this.fruits.indexOf(e);t>=0&&this.fruits.splice(t,1)},e.prototype.selected=function(e){this.fruits.push({name:e.option.viewValue}),this.fruitInput.nativeElement.value=""},e.prototype.onFormValuesChanged=function(){for(var e in this.formErrors)if(this.formErrors.hasOwnProperty(e)){this.formErrors[e]={};var t=this.form.get(e);t&&t.dirty&&!t.valid&&(this.formErrors[e]=t.errors)}},e.prototype.toggleSidebar=function(e){this._fuseSidebarService.getSidebar(e).toggleOpen()},e.prototype.getChange=function(e){var t=this;setTimeout((function(){1==e?t.change1=!p.a.oeq(t.VStep1.getRawValue(),t.orjinalData1):2==e?t.change2=!p.a.oeq(t.VStep2.getRawValue(),t.orjinalData2):3==e?t.change3=!p.a.oeq(t.VStep3.getRawValue(),t.orjinalData3):4==e?t.change4=!p.a.oeq(t.VStep4.getRawValue(),t.orjinalData4):5==e&&(t.change5=!p.a.oeq(t.VStep5.getRawValue(),t.orjinalData5))}),10)},e.prototype.fileEvent=function(e){var t=this;if(e.target.files&&e.target.files.length){var i=this.VStep1.controls.Profil,o=new FileReader;this.profildata=e.target.files[0];var s=e.target.files[0].name.split(".").pop().toLowerCase();this.acceptableTypes.indexOf(s)>-1?(this.isPhotoChanged=!0,o.readAsDataURL(e.target.files[0]),o.onload=function(){i.setValue(o.result),t.profilo=o.result}):this.servis.snackGeneral("Sadece .jp?g ve .png uzantılı resim yükleyebilirsiniz!","Resim Yükleme","warning","toast-top-right",!1,!0)}},e.prototype.ngOnDestroy=function(){},e.prototype.addGorev=function(){var e=this;this.staffService.addGorev(this.Tanim.value).subscribe((function(t){"ER_DUP_ENTRY"==t?e.errorcu="Zaten var":(e.errorcu="",e.Tanim.setValue(""),e.groupMenu.closeMenu())}),(function(e){console.error(e,"error")}))},e.prototype.addDepart=function(){var e=this;this.staffService.addDepartman(this.Tanim1.value).subscribe((function(t){"ER_DUP_ENTRY"==t?e.errorcu1="Zaten var":(e.errorcu1="",e.Tanim1.setValue(""),e.groupMenu1.closeMenu())}),(function(e){console.error(e,"error")}))},e.prototype.onNewGorev=function(){var e=this;setTimeout((function(){e.newGroupField.nativeElement.focus()}))},e.prototype.onNewDepart=function(){var e=this;setTimeout((function(){e.newGroupField1.nativeElement.focus()}))},e}()},JPfu:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var o=i("gIcY"),s=i("p0Sj"),r=i("15JJ"),n=i("67Y/"),a=(i("F5nt"),i("YVao")),l=(i("HX77"),i("wd/R")),h=i("YSh2"),u=i("xhVv"),c=(i("QAha"),i("PMop")),m=i("TrF3"),p=i("ylI6"),d=(i("yjdo"),i("QkSj"),i("uxEF")),g=i.n(d),f=function(){function e(e,t,i,s,r,n,l,c,m){this.formBuilder=e,this.valSer=t,this.servis=i,this.staffService=s,this._matDialog=r,this.snackbar=n,this._fuseSidebarService=l,this.mediaObserver=c,this.settingService=m,this.telefonlar=[],this.responseData={status:"",response:""},this.claslar=new a.a,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!1,this.separatorKeysCodes=[h.g,h.c],this.fulldata=new u.j,this.user=[],this.telone=[],this.bankone=[],this.options=[],this.fruits=[],this.banka=new u.b,this.cocuk=new u.c,this.dokuman=new u.d,this.cari=new u.e,this.iletisim=new u.f,this.kimlik=new u.g,this.kisisel=new u.h,this.evlilik=!1,this.gercekTuzel=1,this.Admin=!0,this.stepIletisim=!1,this.stepKisisel=!0,this.stepBanka=!0,this.cariVar=!0,this.cariDurum="",this.sideMi=!1,this.sc=p.a,this.phoneIsExist=!1,this.emailMask=g.a,this.hesapmask=[/\d/,/\d/,/\d/,/\d/,"*","*","*","*","*","*","*","*",/\d/,/\d/,/\d/,/\d/],this.currentBreakPoint="",this.oldPhone="",this.masko=["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],this.isPhotoChanged=!1,this.acceptableTypes=["jpg","jpeg","png"],this.sideMi="/personel/liste"==this.servis.getTitle(),"/personel/liste"!=this.servis.getTitle()&&this.servis.setTitle("Personel Ekle"),this.Tanim=new o.FormControl(""),this.Tanim1=new o.FormControl(""),this.tcGetir=!0,this.cariVar=!0,this.profilo="./assets/images/avatars/profilFoto.png",this.meslekSecildi=!0,this.yeniden()}return e.prototype.ngAfterViewInit=function(){var e=this;this.mediaObserver.media$.subscribe((function(t){e.mediaStatus=t.mqAlias})),this.mediaObserver.asObservable().subscribe((function(t){e.currentBreakPoint=t[0].mqAlias}))},e.prototype.yeniden=function(){this.gercekTuzel=1;var e=l();this.VStep1=this.formBuilder.group({ID:[""],Erisim:[0],AuthID:[],CariID:[],SorumluID:[""],SorumluA:new o.FormControl,Unvan:["",o.Validators.required],TCNo:["",o.Validators.required],KartTuru:["1"],YKimlikTip:["1"],DepID:[""],DepA:new o.FormControl,etiket:new o.FormControl,Maas:[""],GirisTar:[e],CikisTar:[""],GorevID:[""],GorevA:new o.FormControl,MeslekID:[""],MeslekA:new o.FormControl,Notes:[""],SendMail:[""],SendSMS:[""],HasPhoto:[""],Profil:[""],ProfilData:[""],Durum:[""],RoleID:["",o.Validators.required],RoleTanim:["",o.Validators.required],CepTel:["",o.Validators.required],oldPhone:[""],isMaas:[0]}),this.VStep2=this.formBuilder.group({MPhones:new o.FormArray([]),HPhones:new o.FormArray([]),WPhones:new o.FormArray([]),DPhones:new o.FormArray([]),FPhones:new o.FormArray([]),Email:new o.FormArray([]),Web:new o.FormArray([]),Address:new o.FormArray([]),Location:new o.FormArray([]),addSelect:[""]}),this.VStep3=this.formBuilder.group({AnaAdi:[""],UyrukA:new o.FormControl,UyrukID:[],BabaAdi:[""],SeriNo:[""],Cinsiyet:[""],DYeri:[""],DTarihi:[]}),this.VStep4=this.formBuilder.group({MedeniHal:[""],EsAdi:[""],Kilo:[""],Boy:[""],EYDonumu:[],KanGrubu:[""],Kids:new o.FormArray([])}),this.VStep5=this.formBuilder.group({BankAcc:new o.FormArray([])})},e.prototype.tcVarmis=function(e){var t=this;p.a.removeAll(this.VStep2.controls.MPhones),this.VStep1.controls.CepTel.setValidators([o.Validators.required]),this.VStep1.controls.CepTel.updateValueAndValidity(),this.CariID=e.id,this.VStep1.controls.CariID.setValue(e.id),null==e.phone?this.VStep1.controls.oldPhone.setValue(0):this.oldPhone=e.phone,this.VStep1.controls.CepTel.setValue(e.phone),this.VStep1.controls.Unvan.setValue(e.unvan),this.cariVar=!0,this.VStep1.controls.Unvan.disable(),this.phoneIsExist=!0,setTimeout((function(){t.onMPhones()}),250)},e.prototype.tcGirdi=function(){this.phoneIsExist=!1,this.cariVar=!1,this.VStep1.controls.Unvan.setValue(""),this.VStep1.controls.Unvan.enable()},e.prototype.tarihYap=function(){l();var e=l();this.VStep3.get("DTarihi").setValue(e),this.VStep1.get("GirisTar").setValue(e),this.VStep4.get("EYDonumu").setValue(e)},e.prototype.ngOnInit=function(){var e=this;this.staffService.isCRUDChange=!1,this.evlilik=!1,this.VStep1.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.VStep2.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.VStep3.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.VStep4.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.VStep5.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.onMPhones()},e.prototype.fileEvent=function(e){var t=this;if(e.target.files&&e.target.files.length){var i=e.target.files[0].name.split(".").pop().toLowerCase();if(this.acceptableTypes.indexOf(i)>-1){this.isPhotoChanged=!0;var o=this.VStep1.controls.Profil,s=new FileReader;this.profildata=e.target.files[0],s.readAsDataURL(e.target.files[0]),s.onload=function(){o.setValue(s.result),t.profilo=s.result}}else this.servis.snackGeneral("Sadece .jp?g ve .png uzantılı resim yükleyebilirsiniz!","Resim Yükleme","warning","toast-top-right",!1,!0)}},e.prototype.composeDialog=function(){this.dialogRef=this._matDialog.open(c.a,{panelClass:"mail-compose-dialog"}),this.dialogRef.afterClosed().subscribe((function(e){}))},e.prototype.onMedeni=function(e){this.evlilik="E"==e},e.prototype.onMPhones=function(){this.VStep2.controls.MPhones.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl,IletisimTuru:new o.FormControl("1"),Deger:new o.FormControl("",[o.Validators.required,o.Validators.minLength(14),o.Validators.maxLength(14)]),Aciklama:new o.FormControl({value:"",disabled:!0}),Il:new o.FormControl,Ilce:new o.FormControl,Ulke:new o.FormControl,EMail:new o.FormControl,SMS:new o.FormControl,Aktif:new o.FormControl,Varsayilan:new o.FormControl})),p.a.VBasYap(this.VStep2.get("MPhones"))},e.prototype.onHPhones=function(){this.VStep2.controls.HPhones.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl,IletisimTuru:new o.FormControl("2"),Deger:new o.FormControl("",[o.Validators.required,o.Validators.minLength(10),o.Validators.maxLength(14)]),Aciklama:new o.FormControl({value:"",disabled:!0}),Il:new o.FormControl,Ilce:new o.FormControl,Ulke:new o.FormControl,EMail:new o.FormControl,SMS:new o.FormControl,Aktif:new o.FormControl,Varsayilan:new o.FormControl})),p.a.VBasYap(this.VStep2.get("HPhones"))},e.prototype.onWPhones=function(){this.VStep2.controls.WPhones.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl,IletisimTuru:new o.FormControl("3"),Deger:new o.FormControl("",[o.Validators.required,o.Validators.minLength(10),o.Validators.maxLength(14)]),Aciklama:new o.FormControl({value:"",disabled:!0}),Il:new o.FormControl,Ilce:new o.FormControl,Ulke:new o.FormControl,EMail:new o.FormControl,SMS:new o.FormControl,Aktif:new o.FormControl,Varsayilan:new o.FormControl})),p.a.VBasYap(this.VStep2.get("WPhones"))},e.prototype.onDPhones=function(){this.VStep2.controls.DPhones.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl(this.CariID),IletisimTuru:new o.FormControl("9"),Deger:new o.FormControl("",[o.Validators.required]),Aciklama:new o.FormControl({value:"",disabled:!0}),Il:new o.FormControl,Ilce:new o.FormControl,Ulke:new o.FormControl,EMail:new o.FormControl,SMS:new o.FormControl,Aktif:new o.FormControl,Varsayilan:new o.FormControl})),p.a.VBasYap(this.VStep2.get("DPhones"))},e.prototype.onFPhones=function(){this.VStep2.controls.FPhones.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl,IletisimTuru:new o.FormControl("8"),Deger:new o.FormControl("",[o.Validators.required,o.Validators.minLength(10),o.Validators.maxLength(14)]),Aciklama:new o.FormControl({value:"",disabled:!0}),Il:new o.FormControl,Ilce:new o.FormControl,Ulke:new o.FormControl,EMail:new o.FormControl,SMS:new o.FormControl,Aktif:new o.FormControl,Varsayilan:new o.FormControl})),p.a.VBasYap(this.VStep2.get("FPhones"))},e.prototype.onEmail=function(){this.VStep2.controls.Email.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl,IletisimTuru:new o.FormControl("5"),Deger:new o.FormControl("",[o.Validators.required,o.Validators.minLength(5)]),Aciklama:new o.FormControl({value:"",disabled:!0}),Il:new o.FormControl,Ilce:new o.FormControl,Ulke:new o.FormControl,EMail:new o.FormControl,SMS:new o.FormControl,Aktif:new o.FormControl,Varsayilan:new o.FormControl})),p.a.VBasYap(this.VStep2.get("Email"))},e.prototype.onWeb=function(){this.VStep2.controls.Web.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl,IletisimTuru:new o.FormControl("4"),Deger:new o.FormControl("",[o.Validators.required,o.Validators.minLength(5)]),Aciklama:new o.FormControl({value:"",disabled:!0}),Il:new o.FormControl,Ilce:new o.FormControl,Ulke:new o.FormControl,EMail:new o.FormControl,SMS:new o.FormControl,Aktif:new o.FormControl,Varsayilan:new o.FormControl})),p.a.VBasYap(this.VStep2.get("Web"))},e.prototype.onAddress=function(){var e=this;if(this.VStep2.controls.Address.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl,IletisimTuru:new o.FormControl("6"),Deger:new o.FormControl("",[o.Validators.required,o.Validators.minLength(5)]),Aciklama:new o.FormControl({value:"",disabled:!0}),Il:new o.FormControl({value:"",disabled:!0}),IlID:new o.FormControl,Ilce:new o.FormControl({value:"",disabled:!0}),IlceID:new o.FormControl,Ulke:new o.FormControl({value:"",disabled:!0}),UlkeID:new o.FormControl,EMail:new o.FormControl,SMS:new o.FormControl,Aktif:new o.FormControl,Varsayilan:new o.FormControl})),this.VStep2.controls.Address.length>=1)for(var t=function(t){i.filteredCountry=t.controls.Ulke.valueChanges.pipe(Object(s.a)("Türkiye"),Object(r.a)((function(t){return null!=t&&t.trim().length>0?e.staffService.getCountries(t.trim()):[]})),Object(n.a)((function(e){return null!=e[0]&&(t.controls.UlkeID.value=e[0].id),e}))),i.filteredCity=t.controls.Il.valueChanges.pipe(Object(r.a)((function(i){return null!=i&&i.trim().length>0?e.staffService.getCities(i.trim(),t.controls.UlkeID.value):[]})),Object(n.a)((function(e){return null!=e[0]&&(t.controls.IlID.value=e[0].id),e}))),i.filteredState=t.controls.Ilce.valueChanges.pipe(Object(r.a)((function(i){return null!=i&&i.trim().length>0?e.staffService.getTowns(i.trim(),t.controls.IlID.value):[]})),Object(n.a)((function(e){return null!=e[0]&&(t.controls.IlceID.value=e[0].id),e})))},i=this,a=0,l=this.VStep2.controls.Address.controls;a<l.length;a++)t(l[a]);p.a.VBasYap(this.VStep2.get("Address"))},e.prototype.onLocation=function(){this.VStep2.controls.Location.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl,IletisimTuru:new o.FormControl("7"),Deger:new o.FormControl("",[o.Validators.required,o.Validators.minLength(5)]),Aciklama:new o.FormControl,Il:new o.FormControl,Ilce:new o.FormControl,Ulke:new o.FormControl,EMail:new o.FormControl,SMS:new o.FormControl,Aktif:new o.FormControl,Varsayilan:new o.FormControl})),p.a.VBasYap(this.VStep2.get("Location"))},e.prototype.onKids=function(){this.VStep4.controls.Kids.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl,TCNo:new o.FormControl("",[o.Validators.required,o.Validators.minLength(11),o.Validators.maxLength(11)]),CocukAdi:new o.FormControl("",[o.Validators.required,o.Validators.minLength(5)]),DYeri:new o.FormControl,DTarihi:new o.FormControl,EMail:new o.FormControl,Telefon:new o.FormControl,Boy:new o.FormControl,Kilo:new o.FormControl,Cinsiyet:new o.FormControl})),this.stepKisisel=!1},e.prototype.onBanks=function(){var e=this;if(this.VStep5.controls.BankAcc.push(new o.FormGroup({ID:new o.FormControl,CariID:new o.FormControl,HesapTuru:new o.FormControl("",[o.Validators.required]),BankName:new o.FormControl("",[o.Validators.required]),BankCode:new o.FormControl,BranchName:new o.FormControl({value:"",disabled:!0},[o.Validators.required]),BranchCode:new o.FormControl,HesapNo:new o.FormControl("",[o.Validators.required]),IBAN:new o.FormControl,HesapSahibi:new o.FormControl("",[o.Validators.required]),Active:new o.FormControl})),this.VStep5.controls.BankAcc.length>=1)for(var t=function(t){i.filteredBank=t.controls.BankName.valueChanges.pipe(Object(r.a)((function(t){return null!=t&&t.trim().length>0?e.staffService.getBanks(t.trim()):[]})),Object(n.a)((function(e){if(null!=e[0])return t.controls.BankCode.value=e[0].BankaKodu,e}))),i.filteredBranch=t.controls.BranchName.valueChanges.pipe(Object(r.a)((function(i){return null!=i&&i.trim().length>0?e.staffService.getBranchs(i.trim(),t.controls.BankCode.value):[]})),Object(n.a)((function(e){if(null!=e[0])return t.controls.BranchCode.value=e[0].SubeKodu,e})))},i=this,s=0,a=this.VStep5.controls.BankAcc.controls;s<a.length;s++)t(a[s]);this.stepBanka=!1},e.prototype.selectchange=function(e){this.selvalue=e,1==this.selvalue?this.onMPhones():2==this.selvalue?this.onHPhones():3==this.selvalue?this.onWPhones():8==this.selvalue?this.onFPhones():5==this.selvalue?this.onEmail():4==this.selvalue?this.onWeb():6==this.selvalue?this.onAddress():7==this.selvalue?this.onLocation():9==this.selvalue&&this.onDPhones(),this.stepIletisim=this.VStep2.controls.MPhones.length+this.VStep2.controls.HPhones.length+this.VStep2.controls.WPhones.length+this.VStep2.controls.DPhones.length+this.VStep2.controls.FPhones.length+this.VStep2.controls.Email.length+this.VStep2.controls.Web.length+this.VStep2.controls.Address.length+this.VStep2.controls.Location.length<=1},e.prototype.onKartDegis=function(e){"1"==e?(this.gercekTuzel=1,this.VStep1.get("VergiDairesiA").setValue(""),this.VStep1.get("VergiDairesiID").setValue(""),this.VStep1.get("MeslekA").setValue(""),this.VStep1.get("MeslekID").setValue(""),this.VStep1.get("FaalA").setValue(""),this.VStep1.get("FaalID").setValue(""),this.VStep1.get("IlgiliKisi").setValue(""),this.VStep1.get("PassportNo").setValue("")):(this.gercekTuzel=2,this.VStep1.get("VergiDairesiA").setValue(""),this.VStep1.get("VergiDairesiID").setValue(""),this.VStep1.get("MeslekA").setValue(""),this.VStep1.get("MeslekID").setValue(""),this.VStep1.get("FaalA").setValue(""),this.VStep1.get("FaalID").setValue(""),this.VStep1.get("IlgiliKisi").setValue(""),this.VStep1.get("PassportNo").setValue(""))},e.prototype.submitted=function(){return!(this.VStep1.valid&&this.VStep2.valid&&this.VStep3.valid&&this.VStep4.valid&&this.VStep5.valid)},e.prototype.removeLine=function(e,t,i){t.get(i).removeAt(e),t==this.VStep2&&p.a.VBasYap(this.VStep2.get(i));var o=this.VStep2.controls.MPhones.length+this.VStep2.controls.HPhones.length+this.VStep2.controls.WPhones.length+this.VStep2.controls.DPhones.length+this.VStep2.controls.FPhones.length+this.VStep2.controls.Email.length+this.VStep2.controls.Web.length+this.VStep2.controls.Address.length+this.VStep2.controls.Location.length;this.stepIletisim=o<=1,this.stepIletisim=o<=1,this.stepKisisel=this.VStep4.controls.Kids.length<=1},e.prototype.stepControlIletisim=function(){if(this.VStep2.controls.MPhones.length>=1)for(var e=0,t=this.VStep2.controls.MPhones.controls;e<t.length;e++)p.a.maskLength(t[e].controls.Deger,10,10);if(this.VStep2.controls.HPhones.length>=1)for(var i=0,o=this.VStep2.controls.HPhones.controls;i<o.length;i++)p.a.maskLength(o[i].controls.Deger,10,10);if(this.VStep2.controls.WPhones.length>=1)for(var s=0,r=this.VStep2.controls.WPhones.controls;s<r.length;s++)p.a.maskLength(r[s].controls.Deger,10,10);if(this.VStep2.controls.FPhones.length>=1)for(var n=0,a=this.VStep2.controls.FPhones.controls;n<a.length;n++)p.a.maskLength(a[n].controls.Deger,10,10)},e.prototype.onSubmit=function(){var e=this;this.fulldata=new u.j,this.fulldata.genel=this.VStep1.value,this.fulldata.genel.CariUnvan=this.VStep1.controls.Unvan.value?this.VStep1.controls.Unvan.value.trim():"İsimsiz",this.fulldata.genel.Unvan=this.VStep1.controls.Unvan.value?this.VStep1.controls.Unvan.value.trim():"İsimsiz",this.fulldata.genel.VergiTCNo=this.VStep1.controls.TCNo.value,this.fulldata.genel.CepTel=this.VStep1.controls.CepTel.value?this.VStep1.controls.CepTel.value.toString().replace(/\D/g,""):null,this.fulldata.genel.Maas=p.a.vton(this.VStep1.controls.Maas.value),this.fulldata.genel.isMaas=this.VStep1.controls.isMaas.value,p.a.fomTelRep(this.VStep2.get("MPhones")),p.a.fomTelRep(this.VStep2.get("HPhones")),p.a.fomTelRep(this.VStep2.get("WPhones")),p.a.fomTelRep(this.VStep2.get("FPhones")),this.fulldata.iletisim=this.VStep2.get("MPhones").value.concat(this.VStep2.get("HPhones").value).concat(this.VStep2.get("WPhones").value).concat(this.VStep2.get("DPhones").value).concat(this.VStep2.get("FPhones").value).concat(this.VStep2.get("Email").value).concat(this.VStep2.get("Web").value).concat(this.VStep2.get("Address").value).concat(this.VStep2.get("Location").value),this.fulldata.kimlik.AnaAdi=this.VStep3.get("AnaAdi").value,this.fulldata.kimlik.BabaAdi=this.VStep3.get("BabaAdi").value,this.fulldata.kimlik.Cinsiyet=this.VStep3.get("Cinsiyet").value;var t=this.VStep3.get("DTarihi").value;this.fulldata.kimlik.DTarihi=p.a.RValue(t,"d"),this.fulldata.kimlik.DYeri=this.VStep3.get("DYeri").value,this.fulldata.kimlik.UyrukA=this.VStep3.get("UyrukA").value,this.fulldata.kimlik.SeriNo=this.VStep3.get("SeriNo").value,this.kisisel.MedeniHal=this.VStep4.get("MedeniHal").value,this.kisisel.KanGrubu=this.VStep4.get("KanGrubu").value;var i=this.VStep4.get("EYDonumu").value;this.fulldata.kimlik.DTarihi=p.a.RValue(i,"d"),this.kisisel.EsAdi=this.VStep4.get("EsAdi").value,this.kisisel.Boy=this.VStep4.get("Boy").value,this.kisisel.Kilo=this.VStep4.get("Kilo").value,this.fulldata.kisisel=this.kisisel,this.fulldata.cocuk=this.VStep4.get("Kids").value,this.fulldata.banka=this.VStep5.get("BankAcc").value,p.a.isObjectNull(this.fulldata.kimlik)&&(this.fulldata.kimlik=null),p.a.isObjectNull(this.fulldata.kisisel)&&(this.fulldata.kisisel=null),this.staffService.addUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.staffService.isCRUDChange=!0,"./assets/images/avatars/profilFoto.png"!=e.profilo&&e.isPhotoChanged&&(e.isPhotoChanged=!1),e.servis.snackGeneral("Personel Ekleme","Başarılı","success","toast-top-right",!1,!0),e.resetAll(),e.stepper.selectedIndex=0):"2"==e.responseData.response&&e.servis.snackGeneral("Personel Ekleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}),(function(t){e.servis.snackGeneral("Personel Ekleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}))},e.prototype.resetAll=function(){var e=this;this.VStep1.reset({isMaas:0}),p.a.removeAll(this.VStep2.controls.MPhones),p.a.removeAll(this.VStep2.controls.HPhones),p.a.removeAll(this.VStep2.controls.WPhones),p.a.removeAll(this.VStep2.controls.DPhones),p.a.removeAll(this.VStep2.controls.FPhones),p.a.removeAll(this.VStep2.controls.Email),p.a.removeAll(this.VStep2.controls.Web),p.a.removeAll(this.VStep2.controls.Address),p.a.removeAll(this.VStep2.controls.Location),this.VStep2.reset(),this.VStep3.reset(),p.a.removeAll(this.VStep4.controls.Kids),this.VStep4.reset(),p.a.removeAll(this.VStep5.controls.BankAcc),this.VStep5.reset(),this.fruits=[],this.VStep1.get("KartTuru").setValue("1"),this.VStep1.get("SendSMS").setValue(!0),this.VStep1.get("SendMail").setValue(!0),this.stepper.selectedIndex=0,this.tarihYap(),this.CariID=null,this.cariVar=!0,this.VStep1.controls.Unvan.enable(),this.phoneIsExist=!1,setTimeout((function(){e.onMPhones()}),250)},e.prototype.openSnackBar=function(e,t,i,o){this.snackbar.open(e,"Kapat",{duration:t,horizontalPosition:i,verticalPosition:o})},e.prototype.openDialog=function(){var e=this;this._matDialog.open(m.a,{width:"250px",data:{Status:this.submitStatus,Data:this.submitData}}).afterClosed().subscribe((function(t){e.submitData=t}))},e.prototype.add=function(e){var t=e.input,i=e.value;(i||"").trim()&&this.fruits.push({name:i.trim()}),t&&(t.value="")},e.prototype.remove=function(e){var t=this.fruits.indexOf(e);t>=0&&this.fruits.splice(t,1)},e.prototype.selected=function(e){this.fruits.push({name:e.option.viewValue}),this.fruitInput.nativeElement.value=""},e.prototype.onFormValuesChanged=function(){for(var e in this.formErrors)if(this.formErrors.hasOwnProperty(e)){this.formErrors[e]={};var t=this.form.get(e);t&&t.dirty&&!t.valid&&(this.formErrors[e]=t.errors)}},e.prototype.addGorev=function(){var e=this;this.staffService.addGorev(this.Tanim.value).subscribe((function(t){"ER_DUP_ENTRY"==t?e.errorcu="Zaten var":(e.errorcu="",e.Tanim.setValue(""),e.groupMenu.closeMenu())}),(function(e){console.error(e,"error")}))},e.prototype.addDepart=function(){var e=this;this.staffService.addDepartman(this.Tanim1.value).subscribe((function(t){"ER_DUP_ENTRY"==t?e.errorcu1="Zaten var":(e.errorcu1="",e.Tanim1.setValue(""),e.groupMenu1.closeMenu())}),(function(e){console.error(e,"error")}))},e.prototype.onNewGorev=function(){var e=this;setTimeout((function(){e.newGroupField.nativeElement.focus()}))},e.prototype.onNewDepart=function(){var e=this;setTimeout((function(){e.newGroupField1.nativeElement.focus()}))},e.prototype.onBack=function(e){this._fuseSidebarService.getSidebar(e).close(),this.staffService.sideAdd=!1,this.servis.setTitle("Müşteri Listesi")},e.prototype.tcYokmus=function(e){this.VStep1.controls.CepTel.clearValidators(),this.VStep1.controls.CepTel.updateValueAndValidity()},e}()},PMop:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var o=i("gIcY"),s=(i("I8sF"),function(){function e(e,t,i){this.matDialogRef=e,this._data=t,this.customerservice=i,this.showExtraToFields=!1,this.Tanim=new o.FormControl("")}return e.prototype.onSubmit=function(){var e=this;this.customerservice.addGroup(this.Tanim.value).subscribe((function(t){e.errorcu="ER_DUP_ENTRY"==t?"Zaten var":"Eklendi"}),(function(e){console.error(e,"error")}))},e.prototype.toggleExtraToFields=function(){this.showExtraToFields=!this.showExtraToFields},e}())},rQp8:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var o=function(){function e(e,t){this.renderer=e,this.el=t,this.appInfiniteRotate=!1,this.direction="rightToLeft"}return Object.defineProperty(e.prototype,"setInfiniteRotate",{set:function(e){this.appInfiniteRotate=e,this.appInfiniteRotate?this.rotateOn():this.rotateOff()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setDirection",{set:function(e){this.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getDirection",{get:function(){return this.direction},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.rotateOn=function(){this.renderer.addClass(this.el.nativeElement,"infinate-rotating-"+this.getDirection)},e.prototype.rotateOff=function(){this.renderer.removeClass(this.el.nativeElement,"infinate-rotating-"+this.getDirection)},e}()}}]);