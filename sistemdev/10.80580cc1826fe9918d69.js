(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+ioy":function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i("K9Ia"),s=i("p0ib"),r=i("F/XL"),o=i("Rney"),l=i("p0Sj"),n=i("ny24"),c=i("15JJ"),u=i("67Y/"),h=i("9Z1F"),d=i("BHnd"),m=i("5yQo"),p=i("YlbQ"),g=(i("I8sF"),i("F5nt"),i("HX77"),i("UgST"),i("GOSO")),f=(i("UXzV"),i("BswM"),i("QkSj"),function(){function e(e,t,i,s,r,o){this.customerservice=e,this.settingService=t,this.servis=i,this.autoservis=s,this._fuseSidebarService=r,this._matDialog=o,this.columnsTeklif=["select","Plaka","MarkaA","TipA","ModelYil","TescilTarih","zero","Islenme-Durumu"],this.dataTeklif=new d.l,this.selectedT=new m.e,this.selectionT=new p.c(!0,[]),this.isLoadingResults=!0,this.resultsLengthTeklif=0,this.searchme="",this.sideBarIsOpened=!1,this.columnsKonut=["select","Tanim","KulTarz","InsaatYili","Yuzolcumu","KatSayisi","YapiTarzi","Islenme-Durumu"],this.dataKonut=new d.l,this.selectedK=new m.c,this.selectionK=new p.c(!0,[]),this.resultsLengthKonut=0,this.aracKonut=!0,this.arac=!0,this.konut=!0,this.options=[],this.fruits=[],this.unsubscribe$=new a.a,this.unsubscribek$=new a.a,this.isSend=!0,this.chT=new a.a,this.chK=new a.a,this.selectedTab=0,this._unsubscribeAll=new a.a}return e.prototype.ngOnInit=function(){this.customerservice.customerUrunAddSide=!1,this.autoservis.fuel=!1},e.prototype.ngAfterViewInit=function(){this.dataTableTeklif(),this.dataTableKonut()},e.prototype.tabChangedUrun=function(e){0==e?(this.customerservice.gelenUrun="arac",this.chT.next()):1==e&&(this.chK.next(),this.customerservice.gelenUrun="konut")},e.prototype.dataTableTeklif=function(){var e=this;Object(s.a)(this.sort.sortChange,this.paginator.page,this.chT).pipe(Object(o.a)(500),Object(l.a)({}),Object(n.a)(this.unsubscribe$),Object(c.a)((function(){return e.isLoadingResults=!0,e.selectionT.clear(),e.customerservice.getCusUrun(e.customerservice.CusID,"arac",e.sort.active,e.sort.direction,e.searchme,e.paginator.pageSize,e.paginator.pageIndex)})),Object(u.a)((function(t){return e.isLoadingResults=!1,e.resultsLengthTeklif=t.total_count,t.items})),Object(h.a)((function(){return e.isLoadingResults=!1,Object(r.a)([])}))).subscribe((function(t){e.dataTeklif.data=t,setTimeout((function(){e.isSend=!0}),1e3)}))},e.prototype.dataTableKonut=function(){var e=this;Object(s.a)(this.sort.sortChange,this.paginatorK.page,this.chK).pipe(Object(o.a)(500),Object(l.a)({}),Object(n.a)(this.unsubscribek$),Object(c.a)((function(){return e.isLoadingResults=!0,e.selectionK.clear(),e.customerservice.getCusUrun(e.customerservice.CusID,"konut",e.sort.active,e.sort.direction,e.searchme,e.paginatorK.pageSize,e.paginatorK.pageIndex)})),Object(u.a)((function(t){return e.isLoadingResults=!1,e.resultsLengthKonut=t.total_count,t.items})),Object(h.a)((function(){return e.isLoadingResults=!1,Object(r.a)([])}))).subscribe((function(t){e.dataKonut.data=t,setTimeout((function(){e.isSend=!0}),1e3)}))},e.prototype.yenile=function(){this.isSend=!1,"arac"==this.customerservice.gelenUrun?this.chT.next():"konut"==this.customerservice.gelenUrun&&this.chK.next()},e.prototype.isAllSelected=function(){return this.selectionT.selected.length==this.dataTeklif.data.length},e.prototype.isAllSelectedK=function(){return this.selectionK.selected.length==this.dataKonut.data.length},e.prototype.masterToggle=function(){var e=this;this.isAllSelected()?this.selectionT.clear():this.dataTeklif.data.forEach((function(t){return e.selectionT.select(t)}))},e.prototype.masterToggleK=function(){var e=this;this.isAllSelectedK()?this.selectionK.clear():this.dataKonut.data.forEach((function(t){return e.selectionK.select(t)}))},e.prototype.ilkTepki=function(){this.tabChangedUrun(0)},e.prototype.onSearchChange=function(e){this.searchme=e,"arac"==this.customerservice.gelenUrun?this.chT.next():"konut"==this.customerservice.gelenUrun&&this.chK.next()},e.prototype.aracekle=function(){this.selectedTab=0,this.customerservice.customerUrunAddSide=!0,this.customerservice.urun=!1,this.customerservice.urunK=!0,this.customerservice.gelenUrun="arac",this._fuseSidebarService.getSidebar("urun-add-sidebar").toggleOpen()},e.prototype.konutekle=function(){var e=this;this.selectedTab=1,this.customerservice.customerUrunAddSide=!0,this.customerservice.urun=!0,this.customerservice.urunK=!1,this.customerservice.gelenUrun="konut",this._fuseSidebarService.getSidebar("urun-add-sidebar").toggleOpen(),setTimeout((function(){e.ciA.ilkTepki()}),250)},e.prototype.remove=function(){for(var e=this,t=[],i=0;i<this.selectionT.selected.length;i++)t.push(this.selectionT.selected[i].ID);this._matDialog.open(g.a,{width:"300px",data:{Status:this.selectionT.selected.length+" tane Araç silinecek!!",Data:""}}).afterClosed().subscribe((function(i){1==e.servis.promtControl&&(e.customerservice.delCustomer(t,"arac").subscribe((function(t){e.responseData=t,"1"==e.responseData.response&&(e.onSearchChange(""),e.selectionT.clear())})),e.servis.promtControl=!1)}))},e.prototype.removeK=function(){for(var e=this,t=[],i=0;i<this.selectionK.selected.length;i++)t.push(this.selectionK.selected[i].ID);this._matDialog.open(g.a,{width:"300px",data:{Status:this.selectionK.selected.length+" tane Konut silinecek!!",Data:""}}).afterClosed().subscribe((function(i){1==e.servis.promtControl&&(e.customerservice.delCustomer(t,"konut").subscribe((function(t){e.responseData=t,"1"==e.responseData.response&&(e.onSearchChange(""),e.selectionK.clear())})),e.servis.promtControl=!1)}))},e.prototype.infoside=function(e,t){var i=this;this.servis.isComeWithSearch=!1,this.customerservice.sideFull=!0,this._fuseSidebarService.getSidebar("urun-info-sidebar").toggleOpen(),setTimeout((function(){i.ciC.ilkTepki(e,t)}),250)},e.prototype.sideYenile=function(e){var t=this;0==e&&(this.chT.next(),this.chK.next(),this.onSearchChange(""),setTimeout((function(){t.ciA&&t.ciA.resetAll()}),250))},e.prototype.selected=function(e){this.fruits.push({name:e.option.viewValue}),this.fruitInput.nativeElement.value=""},e.prototype.ngOnDestroy=function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()},e}())},PMop:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=i("gIcY"),s=(i("I8sF"),function(){function e(e,t,i){this.matDialogRef=e,this._data=t,this.customerservice=i,this.showExtraToFields=!1,this.Tanim=new a.FormControl("")}return e.prototype.onSubmit=function(){var e=this;this.customerservice.addGroup(this.Tanim.value).subscribe((function(t){e.errorcu="ER_DUP_ENTRY"==t?"Zaten var":"Eklendi"}),(function(e){console.error(e,"error")}))},e.prototype.toggleExtraToFields=function(){this.showExtraToFields=!this.showExtraToFields},e}())},UXzV:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var a=i("gIcY"),s=(i("QkSj"),i("BswM"),i("Bs+E"),i("I8sF"),i("ylI6")),r=i("wd/R"),o=i("F/XL"),l=i("5yQo"),n=(i("HX77"),i("yjdo"),i("67Y/")),c=(i("o/7H"),i("uxEF")),u=i.n(c),h=(i("F5nt"),function(){function e(e,t,i,o,n,c,h,d,m,p){this.valSer=e,this.daskService=t,this.formBuilder=i,this.settingService=o,this.autofilterservis=n,this.offersevice=c,this.customerservice=h,this._fuseSidebarService=d,this.mediaObserver=m,this.servis=p,this.sc=s.a,this.Teklifaraclar=new l.e,this.responseData={status:"",response:""},this.emailMask=u.a,this.currentBreakPoint="",this.isSend=!1,this.fuelTypes=[{id:1,value:"Benzin"},{id:2,value:"Dizel"},{id:3,value:"Benzin & LPG"}],this.carForm=this.formBuilder.group({ID:[""],CariID:[""],VergiTCNo:[""],KartTuru:[""],Plaka:[""],MarkaA:new a.FormControl,MarkaID:[""],TipA:new a.FormControl(""),TipID:[""],ModelYil:new a.FormControl(""),ModelYilID:[""],PlakaTipi:[1],TescilTarih:[r()],KulTarzID:[""],KulTarzA:new a.FormControl,MotorNo:["",[a.Validators.maxLength(100)]],SasiNo:["",[a.Validators.maxLength(100)]],TescilNo:["",a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(5),a.Validators.maxLength(6)])],TescilSeri:["",a.Validators.compose([a.Validators.required,a.Validators.pattern("^[a-zA-Z]+$"),a.Validators.maxLength(3)])],Aciklama:[""],AracDeger:[""],KoltukSayisi:[""],AracHasarDerecesi:[""],AracRenk:[""],AracSilindir:[""],AracMotorGucu:[""],AracYakit:[""],Name:[""],SurName:[""],Phone:[""],BirthDate:[""],Email:[""],PlateCode:["",a.Validators.compose([a.Validators.required,a.Validators.minLength(2),a.Validators.maxLength(2),a.Validators.pattern("^[0-9]*$")])],PlateChar:["",a.Validators.compose([a.Validators.required,a.Validators.pattern("^[a-zA-Z]+[0-9]+$"),a.Validators.maxLength(20)])],PlateLast:[""],OnExpire:[""],Asbis:["",a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(19),a.Validators.maxLength(19)])],zero:[!1]}),this.VStepDask=this.formBuilder.group({ID:[""],Tanim:[""],Name:[""],SurName:[""],Phone:[""],BirthDate:[""],Email:[""],CariID:[""],VergiTCNo:[""],KartTuru:[""],UAVT:["",a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(10),a.Validators.maxLength(10)])],Yuzolcumu:["",[a.Validators.maxLength(10)]],YapiTarzi:[""],InsaatYili:[""],KatSayisi:[""],KulTarz:[""],SigortaEttirenSifat:[""],OnExpire:[""],Aciklama:[0],RehinAlacakli:[0],KatNo:[0]})}return e.prototype.ngOnInit=function(){var e=this;this.autofilterservis.fuel=!1,this.carForm.get("zero").valueChanges.subscribe((function(t){t?(e.carForm.get("PlateChar").clearValidators(),e.carForm.get("PlateChar").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("Asbis").clearValidators(),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilSeri").clearValidators(),e.carForm.get("TescilSeri").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilNo").clearValidators(),e.carForm.get("TescilNo").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):(e.carForm.get("PlateChar").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[a-zA-Z]+[0-9]+$"),a.Validators.maxLength(10)])),e.carForm.get("PlateChar").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilSeri").value&&e.carForm.get("TescilSeri").value.length>0?(e.carForm.get("Asbis").clearValidators(),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):e.carForm.get("Asbis").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(19),a.Validators.maxLength(19)])),e.carForm.get("TescilNo").value&&e.carForm.get("TescilNo").value.length>0?(e.carForm.get("Asbis").clearValidators(),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):(e.carForm.get("Asbis").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(19),a.Validators.maxLength(19)])),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1})),e.carForm.get("Asbis").value&&e.carForm.get("Asbis").value.length>0?(e.carForm.get("TescilSeri").clearValidators(),e.carForm.get("TescilSeri").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilNo").clearValidators(),e.carForm.get("TescilNo").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):(e.carForm.get("TescilSeri").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[a-zA-Z]+$"),a.Validators.maxLength(3)])),e.carForm.get("TescilNo").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(5),a.Validators.maxLength(6)])),e.carForm.get("TescilSeri").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilNo").updateValueAndValidity({onlySelf:!0,emitEvent:!1})))}))},e.prototype.ngAfterViewInit=function(){var e=this;this.mediaObserver.asObservable().subscribe((function(t){e.currentBreakPoint=t[0].mqAlias}))},e.prototype.ilkTepki=function(){var e=this;this.daskService.getOptDask().pipe(Object(n.a)((function(e){return e[0]}))).subscribe((function(t){e.BuildingAge=t.BuildingAge,e.BuildingFloor=t.BuildingFloor,e.BuildingType=t.BuildingType,e.UsageType=t.UsageType,e.OwnerTitle=t.OwnerTitle}))},e.prototype.ngAfterContentInit=function(){var e=this;this.carForm.get("TescilSeri").valueChanges.subscribe((function(t){t&&t.length>0?(e.carForm.get("Asbis").clearValidators(),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):e.carForm.get("Asbis").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(19),a.Validators.maxLength(19)]))})),this.carForm.get("TescilNo").valueChanges.subscribe((function(t){t&&t.length>0?(e.carForm.get("Asbis").clearValidators(),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):e.carForm.get("Asbis").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(19),a.Validators.maxLength(19)]))})),this.carForm.get("Asbis").valueChanges.subscribe((function(t){t&&t.length>0?(e.carForm.get("TescilSeri").clearValidators(),e.carForm.get("TescilSeri").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilNo").clearValidators(),e.carForm.get("TescilNo").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):(e.carForm.get("TescilSeri").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[a-zA-Z]+$"),a.Validators.maxLength(3)])),e.carForm.get("TescilNo").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(5),a.Validators.maxLength(6)])))}))},e.prototype.onArabaEkle=function(){var e=this;this.isSend=!0,this.carForm.get("Plaka").setValue(this.carForm.get("PlateCode").value+this.carForm.get("PlateChar").value);var t=this.carForm.get("Plaka").value,i=t.split(/[a-zA-Z]/)[0],a=t.substr(i.length).split(/[0-9]/)[0],l=t.substr(a.length+i.length);this.Teklifaraclar.CariID=this.customerservice.CusID,this.Teklifaraclar.Plaka=this.carForm.get("PlateCode").value+this.carForm.get("PlateChar").value,this.Teklifaraclar.Plaka=this.carForm.get("zero").value?i:i+"-"+a+"-"+l,this.Teklifaraclar.PlakaTipi=this.carForm.get("PlakaTipi").value,this.Teklifaraclar.MarkaID=this.carForm.get("MarkaID").value,this.Teklifaraclar.TipID=this.carForm.get("TipID").value,this.Teklifaraclar.ModelYil=this.carForm.get("ModelYil").value?this.carForm.get("ModelYil").value:null,this.Teklifaraclar.KulTarzID=this.carForm.get("KulTarzID").value,this.Teklifaraclar.MotorNo=this.carForm.get("MotorNo").value,this.Teklifaraclar.SasiNo=this.carForm.get("SasiNo").value,this.Teklifaraclar.TescilSeri=this.carForm.get("TescilSeri").value,this.carForm.controls.Asbis.value?(this.Teklifaraclar.TescilNo=this.carForm.get("Asbis").value,this.Teklifaraclar.TescilSeri=null):(this.Teklifaraclar.TescilSeri=this.carForm.get("TescilSeri").value,this.Teklifaraclar.TescilNo=this.carForm.get("TescilNo").value),this.Teklifaraclar.KoltukSayisi=this.carForm.get("KoltukSayisi").value,this.Teklifaraclar.AracDeger=this.carForm.get("AracDeger").value,this.Teklifaraclar.AracYakit=this.carForm.get("AracYakit").value,this.Teklifaraclar.AracMotorGucu=this.carForm.get("AracMotorGucu").value,this.Teklifaraclar.AracSilindir=this.carForm.get("AracSilindir").value,this.Teklifaraclar.AracRenk=this.carForm.get("AracRenk").value,this.Teklifaraclar.AracHasarDerecesi=this.carForm.get("AracHasarDerecesi").value,this.Teklifaraclar.Aciklama=this.carForm.get("Aciklama").value,this.Teklifaraclar.TescilTarih=r(this.carForm.get("TescilTarih").value).isValid()?s.a.setDate(r(this.carForm.get("TescilTarih").value)):null,this.Teklifaraclar.OnExpire=r(this.carForm.get("OnExpire").value).isValid()?s.a.setDate(r(this.carForm.get("OnExpire").value)):null,this.Teklifaraclar.zero=this.carForm.get("zero").value?1:0,this.offersevice.addCar(this.Teklifaraclar).subscribe((function(t){e.responseData=t;var i=t.data;if(""!=e.responseData.response)return e.servis.snackGeneral("Müşteri Araç Ekleme","Başarılı","success","toast-top-right",!1,!0),e.carForm.get("ID").setValue(e.responseData.data),e.resetAll(),e._fuseSidebarService.getSidebar("urun-add-sidebar").close(),Object(o.a)(i)}))},e.prototype.getUAVTPage=function(){window.open("https://adreskodu.dask.gov.tr","test","scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=600,height=300,left=100,top=100")},e.prototype.addNewDaskandGetOffer=function(){var e=this;0==this.VStepDask.get("Tanim").value.length&&this.VStepDask.get("Tanim").setValue(this.VStepDask.get("UAVT").value),this.VStepDask.get("CariID").setValue(this.customerservice.CusID);var t=this.VStepDask.getRawValue();t.OnExpire=r(this.VStepDask.get("OnExpire").value).isValid()?s.a.setDate(r(this.VStepDask.get("OnExpire").value)):null,this.offersevice.addDaskOffer(t).subscribe((function(t){if(1==t.response){e.VStepDask.get("ID").setValue(t.data),e.servis.snackGeneral("Konut Ekleme","Başarılı!","success","toast-top-right");var i=t.data;return e.resetAll(),e._fuseSidebarService.getSidebar("urun-add-sidebar").close(),Object(o.a)(i)}}))},e.prototype.resetAll=function(){var e=this;this.autofilterservis.fuel=!1,this.VStepDask.reset(),this.carForm.reset(),setTimeout((function(){e.carForm.get("PlakaTipi").setValue(1),e.customerservice.customerUrunAddSide=!1}),100)},e}())},UgST:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("gIcY"),s=(i("QkSj"),i("ylI6")),r=(i("BswM"),i("Bs+E"),i("I8sF"),i("wd/R")),o=i("5yQo"),l=(i("HX77"),i("67Y/")),n=(i("o/7H"),i("F5nt"),function(){function e(e,t,i,r,l,n,c,u,h,d){this.formBuilder=e,this.daskService=t,this.settingService=i,this.autofilterservis=r,this.snackbar=l,this.offersevice=n,this.customerservice=c,this._fuseSidebarService=u,this.mediaObserver=h,this.servis=d,this.Teklifaraclar=new o.e,this.sc=s.a,this.responseData={status:"",response:""},this.change1=!1,this.change2=!1,this.currentBreakPoint="",this.isOpen=!1,this.fuelTypes=[{id:1,value:"Benzin"},{id:2,value:"Dizel"},{id:3,value:"Benzin & LPG"}],this.carForm=this.formBuilder.group({ID:[""],CariID:[""],VergiTCNo:[""],KartTuru:[""],Asbis:[""],Plaka:[""],MarkaA:new a.FormControl,MarkaID:[""],TipA:new a.FormControl(""),TipID:[""],ModelYil:new a.FormControl(""),ModelYilID:[""],PlakaTipi:[""],TescilTarih:[""],KulTarzID:[""],KulTarzA:new a.FormControl,MotorNo:[""],SasiNo:[""],TescilNo:[""],TescilSeri:[""],Aciklama:[""],AracDeger:[""],KoltukSayisi:[""],AracHasarDerecesi:[""],AracRenk:[""],AracSilindir:[""],AracMotorGucu:[""],AracYakit:[""],Name:[""],SurName:[""],Phone:[""],BirthDate:[""],Email:[""],PlateCode:["",a.Validators.required],PlateChar:[""],PlateLast:[""],OnExpire:[""],zero:[]}),this.VStepDask=this.formBuilder.group({ID:[""],Tanim:[""],Name:[""],SurName:[""],Phone:[""],BirthDate:[""],Email:[""],CariID:[""],VergiTCNo:[""],KartTuru:[""],UAVT:["",a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(10),a.Validators.maxLength(10)])],Yuzolcumu:["",[a.Validators.maxLength(10)]],YapiTarzi:[""],InsaatYili:[""],KatSayisi:[""],KulTarz:[""],SigortaEttirenSifat:[""],OnExpire:[""],Aciklama:[0],RehinAlacakli:[0],KatNo:[0]})}return e.prototype.ngOnInit=function(){var e=this;this.carForm.get("zero").valueChanges.subscribe((function(t){t?(e.carForm.get("PlateChar").clearValidators(),e.carForm.get("PlateChar").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("Asbis").clearValidators(),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilSeri").clearValidators(),e.carForm.get("TescilSeri").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilNo").clearValidators(),e.carForm.get("TescilNo").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):(e.carForm.get("PlateChar").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[a-zA-Z]+[0-9]+$"),a.Validators.maxLength(10)])),e.carForm.get("PlateChar").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilSeri").value&&e.carForm.get("TescilSeri").value.length>0?(e.carForm.get("Asbis").clearValidators(),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):e.carForm.get("Asbis").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(19),a.Validators.maxLength(19)])),e.carForm.get("TescilNo").value&&e.carForm.get("TescilNo").value.length>0?(e.carForm.get("Asbis").clearValidators(),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):(e.carForm.get("Asbis").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(19),a.Validators.maxLength(19)])),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1})),e.carForm.get("Asbis").value&&e.carForm.get("Asbis").value.length>0?(e.carForm.get("TescilSeri").clearValidators(),e.carForm.get("TescilSeri").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilNo").clearValidators(),e.carForm.get("TescilNo").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):(e.carForm.get("TescilSeri").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[a-zA-Z]+$"),a.Validators.maxLength(3)])),e.carForm.get("TescilNo").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(5),a.Validators.maxLength(6)])),e.carForm.get("TescilSeri").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilNo").updateValueAndValidity({onlySelf:!0,emitEvent:!1})))}))},e.prototype.ngAfterViewInit=function(){var e=this;this.mediaObserver.asObservable().subscribe((function(t){e.currentBreakPoint=t[0].mqAlias}))},e.prototype.ilkTepki=function(e,t){"arac"==t?(this.gelendata="arac",this.getData(e,"arac")):"konut"==t&&(this.gelendata="konut",this.getData(e,"konut"))},e.prototype.getData=function(e,t){var i=this;"arac"==t?(this.offersevice.getArac(e.toString()).subscribe((function(e){if(i.carForm.patchValue(e[0]),i.Idsi=e[0].ID,0==e[0].zero){var t=e[0].Plaka.split("-");i.carForm.controls.PlateCode.setValue(t[0]),i.carForm.controls.PlateChar.setValue(t[1]&&t[2]?t[1]+t[2]:null)}else t=e[0].Plaka.substr(0,2),i.carForm.get("PlateCode").setValue(t);if(i.carForm.controls.PlateLast.setValue(e[0].ModelYil),i.carForm.controls.Asbis.setValue(e[0].Asbis),i.carForm.controls.TescilSeri.setValue(e[0].TescilSeri),i.carForm.controls.TescilNo.setValue(e[0].TescilNo),i.carForm.controls.ModelYil.setValue(e[0].ModelYil),i.carForm.controls.MarkaA.setValue(e[0].MarkaA),i.carForm.controls.MarkaID.setValue(e[0].MarkaID),i.carForm.controls.TipA.setValue(e[0].TipA),i.carForm.controls.TipID.setValue(e[0].TipID),i.carForm.controls.TescilTarih.setValue(e[0].TescilTarih),i.carForm.controls.OnExpire.setValue(e[0].OnExpire),i.carForm.controls.KulTarzA.setValue(e[0].KulTarzA),i.carForm.controls.KulTarzID.setValue(e[0].KulTarzID),i.carForm.controls.MotorNo.setValue(e[0].MotorNo),i.carForm.controls.SasiNo.setValue(e[0].SasiNo),i.carForm.controls.Aciklama.setValue(e[0].Aciklama),e[0].AracHasarDerecesi)try{i.carForm.controls.AracHasarDerecesi.setValue(+e[0].AracHasarDerecesi)}catch(a){}i.carForm.controls.zero.setValue("0"!=e[0].zero),i.BuildingAge=e.BuildingAge,i.BuildingFloor=e.BuildingFloor,i.BuildingType=e.BuildingType,i.UsageType=e.UsageType,i.OwnerTitle=e.OwnerTitle,i.carForm.controls.PlakaTipi.setValue(0==e[0].PlakaTipi||null==e[0].PlakaTipi?1:e[0].PlakaTipi),setTimeout((function(){i.change1=!1,i.orjinalData1=i.carForm.value}),300)}),(function(e){})),setTimeout((function(){s.a.setDirty(i.carForm)}),50)):"konut"==t&&this.daskService.getOptDask().pipe(Object(l.a)((function(e){return e[0]}))).subscribe((function(t){i.BuildingAge=t.BuildingAge,i.BuildingFloor=t.BuildingFloor,i.BuildingType=t.BuildingType,i.UsageType=t.UsageType,i.OwnerTitle=t.OwnerTitle,i.offersevice.getDask(e.toString()).subscribe((function(e){i.Idkonut=e[0].ID,i.autofilterservis.fuel=!0,i.VStepDask.patchValue(e[0]),setTimeout((function(){i.change2=!1,i.orjinalData2=i.VStepDask.value}),300)}),(function(e){})),s.a.setDirty(i.VStepDask)}))},e.prototype.getChange=function(e){1==e?this.change1=!s.a.oeq(this.carForm.getRawValue(),this.orjinalData1):2==e&&(this.change2=!s.a.oeq(this.VStepDask.getRawValue(),this.orjinalData2))},e.prototype.getUAVTPage=function(){window.open("https://adreskodu.dask.gov.tr","test","scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=600,height=300,left=100,top=100")},e.prototype.yenilemeYeniTescilSayfasi=function(){},e.prototype.onArabaGuncelle=function(){var e=this,t=this.carForm.get("PlateCode").value+this.carForm.get("PlateChar").value,i=t.split(/[a-zA-Z]/)[0],a=t.substr(i.length).split(/[0-9]/)[0],o=t.substr(a.length+i.length);this.Teklifaraclar.ID=this.Idsi,this.Teklifaraclar.CariID=this.customerservice.CariID,this.Teklifaraclar.Plaka=this.carForm.get("zero").value?i:i+"-"+a+"-"+o,this.Teklifaraclar.PlakaTipi=0,this.Teklifaraclar.MarkaID=this.carForm.get("MarkaID").value,this.Teklifaraclar.TipID=this.carForm.get("TipID").value,this.Teklifaraclar.ModelYil=this.carForm.get("ModelYil").value?this.carForm.get("ModelYil").value:null,this.Teklifaraclar.TescilTarih=r(this.carForm.get("TescilTarih").value).isValid()?s.a.setDate(r(this.carForm.get("TescilTarih").value)):null,this.Teklifaraclar.OnExpire=r(this.carForm.get("OnExpire").value).isValid()?s.a.setDate(r(this.carForm.get("OnExpire").value)):null,this.Teklifaraclar.KulTarzID=this.carForm.get("KulTarzID").value,this.Teklifaraclar.KulTarzA=this.carForm.get("KulTarzA").value,this.Teklifaraclar.MotorNo=this.carForm.get("MotorNo").value,this.Teklifaraclar.SasiNo=this.carForm.get("SasiNo").value,this.Teklifaraclar.zero=this.carForm.get("zero").value?1:0,this.carForm.controls.Asbis.value?(this.Teklifaraclar.TescilNo=this.carForm.get("Asbis").value,this.Teklifaraclar.TescilSeri=null):(this.Teklifaraclar.TescilSeri=this.carForm.get("TescilSeri").value,this.Teklifaraclar.TescilNo=this.carForm.get("TescilNo").value),this.Teklifaraclar.KoltukSayisi=this.carForm.get("KoltukSayisi").value,this.Teklifaraclar.AracDeger=this.carForm.get("AracDeger").value,this.Teklifaraclar.AracYakit=this.carForm.get("AracYakit").value,this.Teklifaraclar.AracMotorGucu=this.carForm.get("AracMotorGucu").value,this.Teklifaraclar.AracSilindir=this.carForm.get("AracSilindir").value,this.Teklifaraclar.AracRenk=this.carForm.get("AracRenk").value,this.Teklifaraclar.AracHasarDerecesi=this.carForm.get("AracHasarDerecesi").value,this.Teklifaraclar.Aciklama=this.carForm.get("Aciklama").value,this.offersevice.editCar(this.Teklifaraclar).subscribe((function(t){e.responseData=t,""!=e.responseData.response?(e.servis.snackGeneral("Müşteri Araç Güncelleme","Başarılı","success","toast-top-right",!1,!0),e.change1=!1):"2"==e.responseData.response&&e.servis.snackGeneral("Müşteri Araç Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}),(function(t){e.servis.snackGeneral("Müşteri Araç Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)}))},e.prototype.updateDask=function(){var e=this;0==this.VStepDask.get("Tanim").value.length&&this.VStepDask.get("Tanim").setValue(this.VStepDask.get("UAVT").value);var t=this.VStepDask.getRawValue();t.OnExpire=r(this.VStepDask.get("OnExpire").value).isValid()?s.a.setDate(r(this.VStepDask.get("OnExpire").value)):null,this.offersevice.editDask(t).subscribe((function(t){""!=t.response&&e.servis.snackGeneral("Konut Güncelleme","Başarılı!","success","toast-top-right",!1,!0)}))},e.prototype.openSnackBar=function(e,t,i,a){this.snackbar.open(e,"Kapat",{duration:t,horizontalPosition:i,verticalPosition:a})},e.prototype.ngAfterContentInit=function(){var e=this;this.carForm.get("TescilSeri").valueChanges.subscribe((function(t){t&&t.length>0?(e.carForm.get("Asbis").clearValidators(),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):e.carForm.get("Asbis").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(19),a.Validators.maxLength(19)]))})),this.carForm.get("TescilNo").valueChanges.subscribe((function(t){t&&t.length>0?(e.carForm.get("Asbis").clearValidators(),e.carForm.get("Asbis").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):e.carForm.get("Asbis").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(19),a.Validators.maxLength(19)]))})),this.carForm.get("Asbis").valueChanges.subscribe((function(t){t&&t.length>0?(e.carForm.get("TescilSeri").clearValidators(),e.carForm.get("TescilSeri").updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e.carForm.get("TescilNo").clearValidators(),e.carForm.get("TescilNo").updateValueAndValidity({onlySelf:!0,emitEvent:!1})):(e.carForm.get("TescilSeri").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[a-zA-Z]+$"),a.Validators.maxLength(3)])),e.carForm.get("TescilNo").setValidators(a.Validators.compose([a.Validators.required,a.Validators.pattern("^[0-9]+$"),a.Validators.minLength(5),a.Validators.maxLength(6)])))}))},e}())},cutr:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i("YSh2"),s=i("gIcY"),r=(i("F5nt"),i("I8sF"),i("JcGr")),o=i("YVao"),l=i("PMop"),n=i("TrF3"),c=i("GOSO"),u=(i("HX77"),i("wd/R")),h=(i("BswM"),i("ylI6")),d=(i("QkSj"),i("QmtP")),m=(i("yjdo"),i("uxEF")),p=i.n(m),g=(i("Bs+E"),i("+ioy"),i("7ag+")),f=(i("q4B9"),function(){function e(e,t,i,s,l,n,c,u,d,m,g,f,V,v){this.formBuilder=e,this.customerservice=t,this.servis=i,this._matDialog=s,this._fuseSidebarService=l,this.dialogService=n,this.snackbar=c,this.autofilterservis=u,this.offerService=d,this.mediaObserver=m,this.settingService=g,this.cdr=f,this.valSer=V,this.router=v,this.telefonlar=[],this.isOpen=!1,this.responseData={status:"",response:""},this.claslar=new o.a,this.sc=h.a,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!1,this.separatorKeysCodes=[a.g,a.c],this.fulldata=new r.k,this.user=[],this.telone=[],this.bankone=[],this.options=[],this.fruits=[],this.banka=new r.a,this.cocuk=new r.b,this.dokuman=new r.c,this.cari=new r.d,this.iletisim=new r.e,this.kimlik=new r.f,this.kisisel=new r.g,this.evlilik=!1,this.gercekTuzel=1,this.Aktifmi=1,this.Admin=!0,this.stepIletisim=!1,this.stepKisisel=!0,this.stepBanka=!0,this.gelendata=new r.k,this.tabIndex=0,this.iconGenel="",this.iconEski="",this.iconIletisim="",this.iconKimlik="",this.iconKisisel="",this.iconBank="",this.durumGenel=0,this.durumEski=0,this.durumIletisim=0,this.durumKimlik=0,this.durumKisisel=0,this.durumBank=0,this.iletisimGeldi=1,this.islenme=1,this.change1=!1,this.change2=!1,this.change3=!1,this.change4=!1,this.change5=!1,this.arac=!0,this.konut=!0,this.aracKonut=!0,this.emailMask=p.a,this.hesapmask=[/\d/,/\d/,/\d/,/\d/,"*","*","*","*","*","*","*","*",/\d/,/\d/,/\d/,/\d/],this.currentBreakPoint="",this.isPhoto=!1,this.isPhotoChanged=!1,this.acceptableTypes=["jpg","jpeg","png"],"/cari/list"!=this.servis.getTitle()&&this.servis.setTitle("Müşteri Bilgisi"),this.profilo="./assets/images/avatars/profilFoto.png",this.meslekSecildi=!0,this.yazi="T.C. No",this.unvanyazi="Ad ve Soyad",this.CariVaryazi="",this.Uyumsuzyazi="",this.minsayi=11,this.maxsayi=11,this.yeniden(),this.servis.customerInfo>0&&(this.ilkTepki(this.servis.customerInfo,"genel"),this.servis.customerInfo=0)}return e.prototype.yeniden=function(){this.VStep1=this.formBuilder.group({ID:[""],KartTuru:["1"],SendSMS:[!0],SendMail:[!0],Aktifmi:["",s.Validators.required],CariKod:[""],VergiTCNo:["",s.Validators.required],VergiDairesiA:new s.FormControl,VergiDairesiID:[],YKimlikTip:[1],UyrukA:new s.FormControl(""),UyrukID:[],IlgiliKisi:[""],MeslekA:new s.FormControl,MeslekID:[],FaalA:new s.FormControl,FaalID:[],etiket:new s.FormControl,StaffA:new s.FormControl,StaffID:[],CariGrupA:new s.FormControl,CariGrupID:[],ReferansA:new s.FormControl,ReferansID:[],CariUnvan:["",s.Validators.required],OzelKod:[""],PassportNo:[""],MuhKodu:[""],UserA:new s.FormControl,UserID:[],Active:[""],TercihSekliA:new s.FormControl,TercihSekliID:[],Sifre:[""],Notes:[""],HasPhoto:[""],Profil:[""],ProfilData:[""]}),this.VStep2=this.formBuilder.group({MPhones:new s.FormArray([]),HPhones:new s.FormArray([]),WPhones:new s.FormArray([]),FPhones:new s.FormArray([]),Email:new s.FormArray([]),Web:new s.FormArray([]),Address:new s.FormArray([]),Location:new s.FormArray([]),addSelect:[""]}),this.VStep3=this.formBuilder.group({ID:[""],CariID:[""],AnaAdi:[""],UyrukA:new s.FormControl,UyrukID:[""],BabaAdi:[""],SeriNo:[""],Cinsiyet:[""],DYeri:[""],DTarihi:[""]}),this.VStep4=this.formBuilder.group({ID:[""],CariID:[""],MedeniHal:[""],EsAdi:[""],Kilo:[""],Boy:[""],EYDonumu:[""],KanGrubu:[""],Kids:new s.FormArray([])}),this.VStep5=this.formBuilder.group({BankAcc:new s.FormArray([])})},e.prototype.ilkTepki=function(e,t,i){this.isPhotoChanged=!1,this.customerservice.CusID=e,this.customerservice.sidePolicy=!1,this.customerservice.sideOffer=!1,this.customerservice.sideBalance=!1,this.customerservice.sideUrunFull=!1,this.arac=!0,this.konut=!0,this.resetAll(),i&&this.VStep1.get("CariUnvan").setValue(i),"genel"==t?(this.getData(e,"genel"),this.tabIndex=0):"Teklifler"==t?(this.tabIndex=6,this.customerservice.sideOffer=!0):"Poliçler"==t?(this.tabIndex=5,this.customerservice.sidePolicy=!0):"Hesap"==t&&(this.tabIndex=7,this.customerservice.sideBalance=!0)},e.prototype.ngAfterViewInit=function(){var e=this;this.mediaObserver.media$.subscribe((function(t){e.mediaStatus=t.mqAlias})),this.mediaObserver.asObservable().subscribe((function(t){e.currentBreakPoint=t[0].mqAlias}))},e.prototype.photoDelete=function(e){var t=this;this.customerservice.delPhoto(e).subscribe((function(e){t.profilo="./assets/images/avatars/profilFoto.png",t.isPhoto=!1}))},e.prototype.getData=function(e,t){var i=this;this.CariID=e,this.customerservice.CariID=e;var a=0,s=0,r=0,o=0,l=0,n=0,c=0,u=0,d=0,m=0;this.autofilterservis.fuel=!1,this.customerservice.getCus(e,t).subscribe((function(e){if("9"==e.response)return i.servis.snackGeneral("Böyle Bir Müşteri Yok!","Müşteri Güncelleme!","error","toast-top-right",!1,!0),i.customerservice.isCRUDChange=!0,void i._fuseSidebarService.getSidebar("full-info-sidebar").close();if(i.gelendata=e,"genel"==t)i.customerservice.logID=10,i.onKartDegis(i.gelendata.genel[0].KartTuru),i.VStep1.controls.Aktifmi.setValue(1==i.gelendata.genel[0].Active),i.gelendata.genel[0].KartTuru=i.gelendata.genel[0].KartTuru.toString(),setTimeout((function(){i.servis.sar.VergiTCNo=!0,i.orjinalKimlik=i.gelendata.genel[0].VergiTCNo,i.VStep1.controls.VergiTCNo.setValue(i.gelendata.genel[0].VergiTCNo)}),250),setTimeout((function(){i.VStep1.patchValue(i.gelendata.genel[0])}),50),i.customerservice.getPhoto(i.CariID).subscribe((function(e){null!=e.pic&&""!=e.pic?(i.profilo=e.pic,i.isPhoto=!0):(i.isPhoto=!1,i.profilo="./assets/images/avatars/profilFoto.png")})),i.iconGenel="list",setTimeout((function(){i.change1=!1,i.orjinalData1=i.VStep1.value}),300),i.servis.isActive("admin-customerRepresentative")?setTimeout((function(e){i.VStep1.controls.UserID.enable()}),250):i.VStep1.controls.UserID.disable(),i.customerservice.aracKonut=!(i.gelendata.genel[0].Arac>0||i.gelendata.genel[0].Konut>0),h.a.setDirty(i.VStep1);else if("iletişim"==t){if(d=0,i.customerservice.logID=12,i.iletisimGeldi=0,null!=i.gelendata.iletisim||null!=i.gelendata.iletisim){a=Object.keys(i.gelendata.iletisim).length;for(var p=i.VStep2.controls.MPhones,g=i.VStep2.controls.HPhones,f=i.VStep2.controls.WPhones,V=i.VStep2.controls.FPhones,v=i.VStep2.controls.Email,S=i.VStep2.controls.Web,k=i.VStep2.controls.Address,F=i.VStep2.controls.Location;p.length;)p.removeAt(p.length-1);for(;g.length;)g.removeAt(g.length-1);for(;f.length;)f.removeAt(f.length-1);for(;V.length;)V.removeAt(V.length-1);for(;v.length;)v.removeAt(v.length-1);for(;S.length;)S.removeAt(S.length-1);for(;k.length;)k.removeAt(k.length-1);for(;F.length;)F.removeAt(F.length-1);for(var T=function(){if("1"==i.gelendata.iletisim[s].IletisimTuru)i.onMPhones(),p.at(r).patchValue(i.gelendata.iletisim[s]),p.at(r).get("Deger").setValue(h.a.pipePhone(i.gelendata.iletisim[s].Deger)),h.a.tamamVar(p.at(r).get("Deger"),p.at(r).get("Aciklama"),14),r++;else if("2"==i.gelendata.iletisim[s].IletisimTuru)i.onHPhones(),g.at(o).patchValue(i.gelendata.iletisim[s]),g.at(o).get("Deger").setValue(h.a.pipePhone(i.gelendata.iletisim[s].Deger)),h.a.tamamVar(g.at(o).get("Deger"),g.at(o).get("Aciklama"),14),o++;else if("3"==i.gelendata.iletisim[s].IletisimTuru)i.onWPhones(),f.at(l).patchValue(i.gelendata.iletisim[s]),f.at(l).get("Deger").setValue(h.a.pipePhone(i.gelendata.iletisim[s].Deger)),h.a.tamamVar(f.at(l).get("Deger"),f.at(l).get("Aciklama"),14),l++;else if("8"==i.gelendata.iletisim[s].IletisimTuru)i.onFPhones(),V.at(n).patchValue(i.gelendata.iletisim[s]),V.at(n).get("Deger").setValue(h.a.pipePhone(i.gelendata.iletisim[s].Deger)),h.a.tamamVar(V.at(n).get("Deger"),V.at(n).get("Aciklama"),14),n++;else if("5"==i.gelendata.iletisim[s].IletisimTuru)i.onEmail(),v.at(c).patchValue(i.gelendata.iletisim[s]),h.a.tamamVar(v.at(c).get("Deger"),v.at(c).get("Aciklama"),5),c++;else if("4"==i.gelendata.iletisim[s].IletisimTuru)i.onWeb(),S.at(u).patchValue(i.gelendata.iletisim[s]),h.a.tamamVar(S.at(u).get("Deger"),S.at(u).get("Aciklama"),5),u++;else if("6"==i.gelendata.iletisim[s].IletisimTuru){i.onAddress();var e=k.controls[d].controls.ID,t=k.controls[d].controls.CariID,a=k.controls[d].controls.IletisimTuru,T=k.controls[d].controls.Deger,D=k.controls[d].controls.Aciklama,A=k.controls[d].controls.Ulke,b=k.controls[d].controls.UlkeID,y=k.controls[d].controls.Il,C=k.controls[d].controls.IlID,I=k.controls[d].controls.Ilce,w=k.controls[d].controls.IlceID,B=k.controls[d].controls.EMail,K=k.controls[d].controls.SMS,P=k.controls[d].controls.Aktif,M=k.controls[d].controls.Varsayilan,E=i.gelendata.iletisim[s].ID,G=i.gelendata.iletisim[s].CariID,z=i.gelendata.iletisim[s].IletisimTuru,O=i.gelendata.iletisim[s].Deger,N=i.gelendata.iletisim[s].Aciklama,L=i.gelendata.iletisim[s].Ulke,x=i.gelendata.iletisim[s].UlkeID,U=i.gelendata.iletisim[s].Il,Y=i.gelendata.iletisim[s].IlID,_=i.gelendata.iletisim[s].Ilce,j=i.gelendata.iletisim[s].IlceID,q=i.gelendata.iletisim[s].EMail,H=i.gelendata.iletisim[s].SMS,R=i.gelendata.iletisim[s].Aktif,$=i.gelendata.iletisim[s].Varsayilan;setTimeout((function(){e.setValue(E),t.setValue(G),a.setValue(z),T.setValue(O),D.setValue(N),A.setValue(L),b.setValue(x),y.setValue(U),C.setValue(Y),I.setValue(_),w.setValue(j),B.setValue(q),K.setValue(H),P.setValue(R),M.setValue($),h.a.tamamVariki(T,A,D)})),d++}else"7"==i.gelendata.iletisim[s].IletisimTuru&&(i.onLocation(),F.at(m).patchValue(i.gelendata.iletisim[s]),h.a.tamamVar(F.at(m).get("Deger"),F.at(m).get("Aciklama"),10),m++);s++};a-s>0;)T();""==i.iconIletisim?i.iconIletisim="list":"playlist_add"==i.iconIletisim?i.iconIletisim="playlist_add_check":"list"==i.iconIletisim&&(i.iconIletisim="playlist_add_check")}i.iletisimGeldi=1,setTimeout((function(){i.change2=!1,i.orjinalData2=i.VStep2.value}),200),h.a.setDirtyArr(i.VStep2.controls.MPhones),h.a.setDirtyArr(i.VStep2.controls.HPhones),h.a.setDirtyArr(i.VStep2.controls.WPhones),h.a.setDirtyArr(i.VStep2.controls.FPhones),h.a.setDirtyArr(i.VStep2.controls.Email),h.a.setDirtyArr(i.VStep2.controls.Web),setTimeout((function(){h.a.setDirtyArr(i.VStep2.controls.Address)}),10),h.a.setDirtyArr(i.VStep2.controls.Location)}else if("kimlik"==t)i.customerservice.logID=13,(a=Object.keys(i.gelendata.kimlik).length)>0&&i.VStep3.patchValue(i.gelendata.kimlik[0]),i.iconKimlik="list",setTimeout((function(){i.change3=!1,i.orjinalData3=i.VStep3.value}),200),h.a.setDirty(i.VStep3);else if("kişisel"==t){i.customerservice.logID=14,(a=Object.keys(i.gelendata.kisisel).length)>0&&i.VStep4.patchValue(i.gelendata.kisisel[0]),s=0,a=Object.keys(i.gelendata.cocuk).length;for(var D=i.VStep4.controls.Kids;D.length;)D.removeAt(D.length-1);for(;a-s>0;)i.onKids(),D.at(s).patchValue(i.gelendata.cocuk[s]),s++;""==i.iconKisisel?i.iconKisisel="list":"playlist_add"==i.iconKisisel?i.iconKisisel="playlist_add_check":"list"==i.iconKisisel&&(i.iconKisisel="playlist_add_check"),i.evlilik=i.gelendata.kisisel[0]&&"E"==i.gelendata.kisisel[0].MedeniHal,setTimeout((function(){i.change4=!1,i.orjinalData4=i.VStep4.value}),200),h.a.setDirty(i.VStep4),h.a.setDirtyArr(i.VStep4.controls.Kids)}else if("banka"==t){s=0,d=0,i.customerservice.logID=7,a=Object.keys(i.gelendata.banka).length;for(var A=i.VStep5.controls.BankAcc;A.length;)A.removeAt(A.length-1);for(var b=function(){i.onBanks();var e=A.controls[d].controls.BankCode,t=A.controls[d].controls.BankName,a=A.controls[d].controls.BranchCode,r=A.controls[d].controls.BranchName,o=i.gelendata.banka[s].BankCode,l=i.gelendata.banka[s].BankName,n=i.gelendata.banka[s].BranchCode,c=i.gelendata.banka[s].BranchName;A.at(s).patchValue(i.gelendata.banka[s],{onlySelf:!0}),setTimeout((function(){e.setValue(o),t.setValue(l),a.setValue(n),r.setValue(c),h.a.secimAdrTamam(t,r)}),250),s++,i.cdr.detectChanges(),d++};a-s>0;)b();""==i.iconBank?i.iconBank="list":"playlist_add"==i.iconBank?i.iconBank="playlist_add_check":"list"==i.iconBank&&(i.iconBank="playlist_add_check"),setTimeout((function(){i.change5=!1,i.orjinalData5=i.VStep5.value}),200),h.a.setDirty(i.VStep5),h.a.setDirtyArr(i.VStep5.controls.BankAcc)}setTimeout((function(){i.autofilterservis.fuel=!0}),1e3)}),(function(e){}))},e.prototype.test=function(){},e.prototype.getChange=function(e){1==e?this.change1=!h.a.oeq(this.VStep1.getRawValue(),this.orjinalData1):2==e?this.change2=!h.a.oeq(this.VStep2.getRawValue(),this.orjinalData2):3==e?this.change3=!h.a.oeq(this.VStep3.getRawValue(),this.orjinalData3):4==e?this.change4=!h.a.oeq(this.VStep4.getRawValue(),this.orjinalData4):5==e&&(this.change5=!h.a.oeq(this.VStep5.getRawValue(),this.orjinalData5))},e.prototype.getBoyut=function(e,t,i){return 1==this.gercekTuzel?e:2==this.gercekTuzel?t:3==this.gercekTuzel?i:void 0},e.prototype.getWAdmin=function(){return this.Admin?1==this.gercekTuzel?"100":2==this.gercekTuzel?"75":2==this.VStep1.controls.YKimlikTip.value?"75":"100":1==this.gercekTuzel?"75":2==this.gercekTuzel?"50":2==this.VStep1.controls.YKimlikTip.value?"50":"75"},e.prototype.tcServerKontrol=function(e,t){var i=this;this.customerservice.tcKontrol(e).subscribe((function(e){"1"==e.response?(setTimeout((function(){t.setErrors({common:!0})}),100),i.CariVaryazi=" (Cari Kaydı Var)",i.cariVar=!0):(setTimeout((function(){t.clearValidators()}),100),i.cariVar=!1,i.CariVaryazi="")}))},e.prototype.cariBaslik=function(){this.VStep1.controls.VergiTCNo.setValue(""),this.CariVaryazi="",this.Uyumsuzyazi="",1==this.gercekTuzel?(this.yazi="T.C. No",this.unvanyazi="Ad ve Soyad"):2==this.gercekTuzel?(this.yazi="Vergi No",this.unvanyazi="Unvan"):3==this.gercekTuzel&&("1"==this.VStep1.controls.YKimlikTip.value?(this.yazi="T.C. No",this.unvanyazi="Ad ve Soyad"):"2"==this.VStep1.controls.YKimlikTip.value?(this.yazi="Vergi No",this.unvanyazi="Unvan"):"3"==this.VStep1.controls.YKimlikTip.value&&(this.yazi="Pasaport No",this.unvanyazi="Ad ve Soyad")),this.cariNumberMax(),this.cariNumberMin()},e.prototype.cariNumberMax=function(){1==this.gercekTuzel?this.maxsayi=11:2==this.gercekTuzel?this.maxsayi=10:3==this.gercekTuzel&&("1"==this.VStep1.controls.YKimlikTip.value?this.maxsayi=11:"2"==this.VStep1.controls.YKimlikTip.value?this.maxsayi=10:"3"==this.VStep1.controls.YKimlikTip.value&&(this.maxsayi=20))},e.prototype.cariNumberMin=function(){1==this.gercekTuzel?this.minsayi=11:2==this.gercekTuzel?this.minsayi=10:3==this.gercekTuzel&&("1"==this.VStep1.controls.YKimlikTip.value?this.minsayi=11:"2"==this.VStep1.controls.YKimlikTip.value?this.minsayi=10:"3"==this.VStep1.controls.YKimlikTip.value&&(this.minsayi=5))},e.prototype.islemeAl=function(){this.islenme=1},e.prototype.ngOnInit=function(){var e=this;this.evlilik=!1,this.VStep1.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.VStep2.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.VStep3.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.VStep4.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.VStep5.valueChanges.subscribe((function(){e.onFormValuesChanged()}))},e.prototype.fileEvent=function(e){var t=this;if(e.target.files&&e.target.files.length){var i=e.target.files[0].name.split(".").pop().toLowerCase();if(this.acceptableTypes.indexOf(i)>-1){this.isPhotoChanged=!0;var a=this.VStep1.controls.Profil,s=new FileReader;this.profildata=e.target.files[0],s.readAsDataURL(e.target.files[0]),s.onload=function(){a.setValue(s.result),t.profilo=s.result}}else this.servis.snackGeneral("Sadece .jp?g ve .png uzantılı resim yükleyebilirsiniz!","Resim Yükleme","warning","toast-top-right",!1,!0)}},e.prototype.composeDialog=function(){this.dialogRef=this._matDialog.open(l.a,{panelClass:"mail-compose-dialog"}),this.dialogRef.afterClosed().subscribe((function(e){}))},e.prototype.onMedeni=function(e){this.evlilik="E"==e,this.VStep4.controls.MedeniHal.setValue(e)},e.prototype.onMPhones=function(){this.VStep2.controls.MPhones.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("1"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(14),s.Validators.maxLength(14)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&h.a.VBasYap(this.VStep2.get("MPhones"))},e.prototype.onHPhones=function(){this.VStep2.controls.HPhones.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("2"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(14),s.Validators.maxLength(14)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&h.a.VBasYap(this.VStep2.get("HPhones"))},e.prototype.onWPhones=function(){this.VStep2.controls.WPhones.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("3"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(14),s.Validators.maxLength(14)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&h.a.VBasYap(this.VStep2.get("WPhones"))},e.prototype.onFPhones=function(){this.VStep2.controls.FPhones.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("8"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(14),s.Validators.maxLength(15)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&h.a.VBasYap(this.VStep2.get("FPhones"))},e.prototype.onEmail=function(){this.VStep2.controls.Email.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("5"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(5)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&h.a.VBasYap(this.VStep2.get("Email"))},e.prototype.onWeb=function(){this.VStep2.controls.Web.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("4"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(5)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&h.a.VBasYap(this.VStep2.get("Web"))},e.prototype.onAddress=function(){this.VStep2.controls.Address.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("6"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(5)]),Aciklama:new s.FormControl({value:"",disabled:!0}),Il:new s.FormControl({value:"",disabled:!0}),IlID:new s.FormControl,Ilce:new s.FormControl({value:"",disabled:!0}),IlceID:new s.FormControl,Ulke:new s.FormControl({value:"",disabled:!0}),UlkeID:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&h.a.VBasYap(this.VStep2.get("Address"))},e.prototype.onLocation=function(){this.VStep2.controls.Location.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),IletisimTuru:new s.FormControl("7"),Deger:new s.FormControl("",[s.Validators.required,s.Validators.minLength(5)]),Aciklama:new s.FormControl,Il:new s.FormControl,Ilce:new s.FormControl,Ulke:new s.FormControl,EMail:new s.FormControl,SMS:new s.FormControl,Aktif:new s.FormControl,Varsayilan:new s.FormControl})),1==this.iletisimGeldi&&h.a.VBasYap(this.VStep2.get("Location"))},e.prototype.onKids=function(){this.VStep4.controls.Kids.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl(this.CariID),TCNo:new s.FormControl("",[s.Validators.required,d.a.tcValidator]),CocukAdi:new s.FormControl("",[s.Validators.required,s.Validators.minLength(5)]),DYeri:new s.FormControl,DTarihi:new s.FormControl,EMail:new s.FormControl,Telefon:new s.FormControl,Boy:new s.FormControl,Kilo:new s.FormControl,Cinsiyet:new s.FormControl})),this.stepKisisel=!1},e.prototype.onBanks=function(){this.VStep5.controls.BankAcc.push(new s.FormGroup({ID:new s.FormControl,CariID:new s.FormControl,HesapTuru:new s.FormControl(1,[s.Validators.required]),BankName:new s.FormControl("",[s.Validators.required]),BankCode:new s.FormControl,BranchName:new s.FormControl({value:"",disabled:!0}),BranchCode:new s.FormControl,HesapNo:new s.FormControl(""),IBAN:new s.FormControl,HesapSahibi:new s.FormControl("",[s.Validators.required]),Active:new s.FormControl})),this.stepBanka=!1},e.prototype.selectchange=function(e){var t=this;this.selvalue=e,1==this.selvalue?this.onMPhones():2==this.selvalue?this.onHPhones():3==this.selvalue?this.onWPhones():8==this.selvalue?this.onFPhones():5==this.selvalue?this.onEmail():4==this.selvalue?this.onWeb():6==this.selvalue?(this.onAddress(),setTimeout((function(){t.VStep2.controls.Address.at(t.VStep2.controls.Address.length-1).get("UlkeID").setValue(1),t.VStep2.controls.Address.at(t.VStep2.controls.Address.length-1).get("Ulke").setValue("Türkiye")}),1e3)):7==this.selvalue&&this.onLocation(),this.stepIletisim=this.VStep2.controls.MPhones.length+this.VStep2.controls.HPhones.length+this.VStep2.controls.WPhones.length+this.VStep2.controls.FPhones.length+this.VStep2.controls.Email.length+this.VStep2.controls.Web.length+this.VStep2.controls.Address.length+this.VStep2.controls.Location.length<=1},e.prototype.onKartDegis=function(e){this.VStep1.get("VergiDairesiA").setValue(""),this.VStep1.get("VergiDairesiID").setValue(""),this.VStep1.get("MeslekA").setValue(""),this.VStep1.get("MeslekID").setValue(""),this.VStep1.get("FaalA").setValue(""),this.VStep1.get("FaalID").setValue(""),this.VStep1.get("IlgiliKisi").setValue(""),this.VStep1.get("PassportNo").setValue(""),this.gercekTuzel="1"==e?1:"2"==e?2:3},e.prototype.removeLine=function(e,t,i){null!=t.get(i).value[e].ID?this.openPromt(e,t,i):t.get(i).removeAt(e),t==this.VStep2&&h.a.VBasYap(this.VStep2.get(i));var a=this.VStep2.controls.MPhones.length+this.VStep2.controls.HPhones.length+this.VStep2.controls.WPhones.length+this.VStep2.controls.FPhones.length+this.VStep2.controls.Email.length+this.VStep2.controls.Web.length+this.VStep2.controls.Address.length+this.VStep2.controls.Location.length;this.stepIletisim=a<=1,this.stepIletisim=a<=1,this.stepKisisel=this.VStep4.controls.Kids.length<=1},e.prototype.tabChanged=function(e){var t=this;this.customerservice.sidePolicy=!1,this.customerservice.sideOffer=!1,this.customerservice.sideBalance=!1,this.customerservice.sideUrunFull=!1,0==e?this.getData(this.CariID,"genel"):1==e?this.getData(this.CariID,"iletişim"):2==e?this.getData(this.CariID,"kimlik"):3==e?this.getData(this.CariID,"kişisel"):4==e?this.getData(this.CariID,"banka"):5==e?this.customerservice.sidePolicy=!0:6==e?this.customerservice.sideOffer=!0:7==e?this.customerservice.sideBalance=!0:8==e&&(this._fuseSidebarService.getSidebar("urun-add-sidebar")&&this._fuseSidebarService.getSidebar("urun-add-sidebar").close(),this.customerservice.sideUrunFull=!0,setTimeout((function(){t.ciC.ilkTepki()}),250))},e.prototype.onSubmitGenel=function(){var e=this;this.customerservice.isButtonSaved=!0,this.durumGenel=0,this.iconGenel="playlist_add_check",this.fulldata=new r.k,this.fulldata.id=this.CariID,this.fulldata.p=0,this.fulldata.form="genel",this.fulldata.genel.ID=this.VStep1.get("ID").value,this.fulldata.genel.KartTuru=this.VStep1.get("KartTuru").value,this.fulldata.genel.CariKod=this.VStep1.get("CariKod").value,this.fulldata.genel.CariGrupID=this.VStep1.get("CariGrupID").value,this.fulldata.genel.CariGrupA=this.VStep1.get("CariGrupA").value,this.fulldata.genel.CariUnvan=this.VStep1.get("CariUnvan").value?this.VStep1.get("CariUnvan").value.trim():"İsimsiz",this.fulldata.genel.IlgiliKisi=this.VStep1.get("IlgiliKisi").value,this.fulldata.genel.VergiTCNo=this.VStep1.get("VergiTCNo").value,this.fulldata.genel.Sifre=this.VStep1.get("Sifre").value,this.fulldata.genel.VergiDairesiA=this.VStep1.get("VergiDairesiA").value,this.fulldata.genel.VergiDairesiID=this.VStep1.get("VergiDairesiID").value,this.fulldata.genel.PassportNo=this.VStep1.get("PassportNo").value,this.fulldata.genel.MeslekA=this.VStep1.get("MeslekA").value,this.fulldata.genel.MeslekID=this.VStep1.get("MeslekID").value,this.fulldata.genel.FaalA=this.VStep1.get("FaalA").value,this.fulldata.genel.FaalID=this.VStep1.get("FaalID").value,this.fulldata.genel.ReferansID=this.VStep1.get("ReferansID").value,this.fulldata.genel.ReferansA=this.VStep1.get("ReferansA").value,this.fulldata.genel.OzelKod=this.VStep1.get("OzelKod").value,this.fulldata.genel.MuhKodu=this.VStep1.get("MuhKodu").value,"Administrator"==this.VStep1.controls.StaffA.value||""!=this.VStep1.controls.StaffA.value&&null!=this.VStep1.controls.StaffA.value&&!this.VStep1.controls.StaffA.invalid||(this.VStep1.controls.StaffID.setValue(this.servis.tokenData.ID),this.VStep1.controls.StaffA.setValue(this.servis.tokenData.Unvan)),this.fulldata.genel.StaffID=this.VStep1.get("StaffID").value,this.fulldata.genel.StaffA=this.VStep1.get("StaffA").value,this.fulldata.genel.UserID=this.VStep1.get("UserID").value,this.fulldata.genel.Notes=this.VStep1.get("Notes").value,this.fulldata.genel.SendMail=this.VStep1.get("SendMail").value,this.fulldata.genel.SendSMS=this.VStep1.get("SendSMS").value,this.fulldata.genel.HasPhoto=this.VStep1.get("HasPhoto").value,this.fulldata.genel.Active=this.VStep1.get("Active").value,this.fulldata.genel.TercihSekliID=this.VStep1.get("TercihSekliID").value,this.fulldata.genel.TercihSekliA=this.VStep1.get("TercihSekliA").value,this.fulldata.genel.UyrukA=this.VStep1.get("UyrukA").value,this.fulldata.genel.UyrukID=this.VStep1.get("UyrukID").value,this.fulldata.genel.YKimlikTip=this.VStep1.get("YKimlikTip").value,this.fulldata.pic=this.profilo,this.fulldata.genel.Active=1==this.VStep1.controls.Aktifmi.value?1:0,this.VStep1.disable(),this.customerservice.editUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.servis.snackGeneral("Müşteri Güncelleme","Başarılı","success","toast-top-right",!1,!0),e.durumGenel=0,e.iconGenel="playlist_add_check",e.change1=!1,e.VStep1.enable(),"./assets/images/avatars/profilFoto.png"!=e.profilo&&e.isPhotoChanged?e.customerservice.upCustomerImage(e.CariID,e.profilo).subscribe((function(t){e.getData(e.CariID,"genel"),e.isPhotoChanged=!1})):e.getData(e.CariID,"genel")):"2"==e.responseData.response?(e.durumGenel=1,e.iconGenel="playlist_add",e.servis.snackGeneral("Müşteri Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)):"9"==e.responseData.response&&(e.servis.snackGeneral("Böyle Bir Müşteri Yok!","Müşteri Güncelleme!","error","toast-top-right",!1,!0),e._fuseSidebarService.getSidebar("full-info-sidebar").close())}),(function(e){}))},e.prototype.onSubmitIletisim=function(){var e=this;this.customerservice.isButtonSaved=!0,this.fulldata=new r.k,this.fulldata.id=this.CariID,this.fulldata.p=0,this.fulldata.form="iletişim",h.a.fomTelRep(this.VStep2.get("MPhones")),h.a.fomTelRep(this.VStep2.get("HPhones")),h.a.fomTelRep(this.VStep2.get("WPhones")),h.a.fomTelRep(this.VStep2.get("FPhones")),this.fulldata.iletisim=this.VStep2.get("MPhones").getRawValue().concat(this.VStep2.get("HPhones").value).concat(this.VStep2.get("WPhones").value).concat(this.VStep2.get("FPhones").value).concat(this.VStep2.get("Email").value).concat(this.VStep2.get("Web").value).concat(this.VStep2.get("Address").getRawValue()).concat(this.VStep2.get("Location").value),this.customerservice.editUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.durumIletisim=0,e.getData(e.CariID,"iletişim"),e.servis.snackGeneral("Müşteri Güncelleme","Başarılı","success","toast-top-right",!1,!0),e.iconIletisim="playlist_add_check",e.change2=!1):"2"==e.responseData.response?e.servis.snackGeneral("Müşteri Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0):"9"==e.responseData.response&&(e.servis.snackGeneral("Böyle Bir Müşteri Yok!","Müşteri Güncelleme!","error","toast-top-right",!1,!0),e._fuseSidebarService.getSidebar("full-info-sidebar").close())}),(function(e){}))},e.prototype.onSubmitKimlik=function(){var e=this;this.customerservice.isButtonSaved=!0,this.fulldata=new r.k,this.fulldata.id=this.CariID,this.fulldata.p=0,this.fulldata.form="kimlik",this.fulldata.kimlik=this.VStep3.value,this.fulldata.kimlik.DTarihi=u(this.VStep3.get("DTarihi").value).isValid()?h.a.setDate(u(this.VStep3.get("DTarihi").value)):null,this.customerservice.editUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.durumKimlik=0,e.getData(e.CariID,"kimlik"),e.servis.snackGeneral("Müşteri Güncelleme","Başarılı","success","toast-top-right",!1,!0),e.iconKimlik="playlist_add_check",e.change3=!1):"2"==e.responseData.response?e.servis.snackGeneral("Müşteri Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0):"9"==e.responseData.response&&(e.servis.snackGeneral("Böyle Bir Müşteri Yok!","Müşteri Güncelleme!","error","toast-top-right",!1,!0),e._fuseSidebarService.getSidebar("full-info-sidebar").close())}),(function(e){}))},e.prototype.onSubmitKisisel=function(){var e=this;this.customerservice.isButtonSaved=!0,this.fulldata=new r.k,this.fulldata.id=this.CariID,this.fulldata.p=0,this.fulldata.form="kişisel",this.kisisel.MedeniHal=this.VStep4.get("MedeniHal").value,this.kisisel.ID=this.VStep4.get("ID").value,this.kisisel.CariID=this.VStep4.get("CariID").value,this.kisisel.KanGrubu=this.VStep4.get("KanGrubu").value,this.kisisel.EYDonumu=u(this.VStep4.get("EYDonumu").value).isValid()?h.a.setDate(u(this.VStep4.get("EYDonumu").value)):null,this.kisisel.EsAdi=this.VStep4.get("EsAdi").value,this.kisisel.Boy=this.VStep4.get("Boy").value,this.kisisel.Kilo=this.VStep4.get("Kilo").value,this.fulldata.kisisel=this.kisisel,this.fulldata.cocuk=this.VStep4.get("Kids").value,this.customerservice.editUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.servis.snackGeneral("Müşteri Güncelleme","Başarılı","success","toast-top-right",!1,!0),e.durumKisisel=0,e.getData(e.CariID,"kişisel"),e.iconKisisel="playlist_add_check",e.change4=!1):"2"==e.responseData.response?e.servis.snackGeneral("Müşteri Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0):"9"==e.responseData.response&&(e.servis.snackGeneral("Böyle Bir Müşteri Yok!","Müşteri Güncelleme!","error","toast-top-right",!1,!0),e._fuseSidebarService.getSidebar("full-info-sidebar").close())}),(function(e){}))},e.prototype.onSubmitBanks=function(){var e=this;this.customerservice.isButtonSaved=!0,this.fulldata=new r.k,this.fulldata.id=this.CariID,this.fulldata.p=0,this.fulldata.form="banka",this.fulldata.banka=this.VStep5.get("BankAcc").value,this.customerservice.editUser(this.fulldata).subscribe((function(t){e.responseData=t,"1"==e.responseData.response?(e.servis.snackGeneral("Müşteri Güncelleme","Başarılı","success","toast-top-right",!1,!0),e.durumBank=0,e.getData(e.CariID,"banka"),e.iconBank="playlist_add_check",e.change5=!1):"2"==e.responseData.response?e.servis.snackGeneral("Müşteri Güncelleme","Bir Hata Oluştu!","error","toast-top-right",!1,!0):"9"==e.responseData.response&&(e.servis.snackGeneral("Böyle Bir Müşteri Yok!","Müşteri Güncelleme!","error","toast-top-right",!1,!0),e._fuseSidebarService.getSidebar("full-info-sidebar").close())}),(function(e){}))},e.prototype.resetAll=function(){this.VStep1.reset(),h.a.removeAll(this.VStep2.controls.MPhones),h.a.removeAll(this.VStep2.controls.HPhones),h.a.removeAll(this.VStep2.controls.WPhones),h.a.removeAll(this.VStep2.controls.FPhones),h.a.removeAll(this.VStep2.controls.Email),h.a.removeAll(this.VStep2.controls.Web),h.a.removeAll(this.VStep2.controls.Address),h.a.removeAll(this.VStep2.controls.Location),this.VStep2.reset(),this.VStep3.reset(),h.a.removeAll(this.VStep4.controls.Kids),this.VStep4.reset(),h.a.removeAll(this.VStep5.controls.BankAcc),this.VStep5.reset(),this.fruits=[],this.iconGenel="",this.iconIletisim="",this.iconKimlik="",this.iconKisisel="",this.iconBank="",this.durumGenel=0,this.durumIletisim=0,this.durumKimlik=0,this.durumKisisel=0,this.durumBank=0,this.VStep1.get("KartTuru").setValue("1"),this.VStep1.get("YKimlikTip").setValue(1),this.VStep1.controls.UyrukA.setValue("TR"),this.VStep1.controls.UyrukID.setValue("1"),this.Uyumsuzyazi="",this.CariVaryazi="",this.profilo="./assets/images/avatars/profilFoto.png",this.customerservice.isButtonSaved=!1},e.prototype.openDialog=function(){var e=this;this._matDialog.open(n.a,{width:"250px",data:{Status:this.submitStatus,Data:this.submitData}}).afterClosed().subscribe((function(t){e.submitData=t}))},e.prototype.openSnackBar=function(e,t,i,a,s){this.snackbar.open(e,"X",{duration:t,horizontalPosition:i,verticalPosition:a,panelClass:[s]})},e.prototype.openPromt=function(e,t,i){var a=this;this._matDialog.open(c.a,{width:"250px",data:{Status:"Veri Silinsin mi!!",Data:this.submitData}}).afterClosed().subscribe((function(s){1==a.servis.promtControl&&("MPhones"==i||"HPhones"==i||"WPhones"==i||"FPhones"==i||"Email"==i||"Web"==i||"Address"==i||"Location"==i?a.customerservice.delCustomer(t.get(i).value[e].ID,"iletişim").subscribe((function(s){a.responseData=s,"1"==a.responseData.response?(a.servis.snackGeneral("Müşteri Bilgi Silme","Başarılı","success","toast-top-right",!1,!0),a.iconIletisim="playlist_add_check",a.durumIletisim=0,t.get(i).removeAt(e),a.customerservice.isButtonSaved=!0):"2"==a.responseData.response&&(a.submitStatus="Hata",a.servis.snackGeneral("Müşteri Bilgi Silme","Bir Hata Oluştu!","error","toast-top-right",!1,!0))})):"Kids"==i?a.customerservice.delCustomer(t.get(i).value[e].ID,"çocuk").subscribe((function(s){a.responseData=s,"1"==a.responseData.response?(a.servis.snackGeneral("Müşteri Bilgi Silme","Başarılı","success","toast-top-right",!1,!0),a.iconKisisel="playlist_add_check",a.durumKisisel=0,t.get(i).removeAt(e),a.customerservice.isButtonSaved=!0):"2"==a.responseData.response&&a.servis.snackGeneral("Müşteri Bilgi Silme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)})):"BankAcc"==i&&a.customerservice.delCustomer(t.get(i).value[e].ID,"banka").subscribe((function(s){a.responseData=s,"1"==a.responseData.response?(a.servis.snackGeneral("Müşteri Bilgi Silme","Başarılı","success","toast-top-right",!1,!0),a.iconBank="playlist_add_check",a.durumBank=0,t.get(i).removeAt(e),a.customerservice.isButtonSaved=!0):"2"==a.responseData.response&&a.servis.snackGeneral("Müşteri Bilgi Silme","Bir Hata Oluştu!","error","toast-top-right",!1,!0)})))}))},e.prototype.add=function(e){var t=e.input,i=e.value;(i||"").trim()&&(this.fruits.length>4||this.fruits.push({name:i.trim()})),t&&(t.value="")},e.prototype.remove=function(e){var t=this.fruits.indexOf(e);t>=0&&this.fruits.splice(t,1)},e.prototype.selected=function(e){this.fruits.push({name:e.option.viewValue}),this.fruitInput.nativeElement.value=""},e.prototype.onFormValuesChanged=function(){for(var e in this.formErrors)if(this.formErrors.hasOwnProperty(e)){this.formErrors[e]={};var t=this.form.get(e);t&&t.dirty&&!t.valid&&(this.formErrors[e]=t.errors)}},e.prototype.geribildirim=function(){this._matDialog.open(g.a,{width:"450px",height:"300px",data:{Baslik:"Müşteri Güncelleme",ID:4}}).afterClosed().subscribe((function(e){}))},e.prototype.toggleSidebar=function(e){try{this._fuseSidebarService.getSidebar(e).toggleOpen(),this._fuseSidebarService.getSidebar("full-info-sidebar").close()}catch(t){return void this.router.navigate(["/cari/list"])}},e.prototype.ngOnDestroy=function(){},e}())},"o/7H":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("K9Ia"),s=i("67Y/"),r=i("F5nt"),o=i("CcnG"),l=i("t/Na"),n=function(){function e(e,t){this.servis=e,this.http=t,this.offerData=[],this.subject=new a.a,this.resetOfferList=new a.a,this.offerStatus$=new a.a,this.offerIDGlobal=-1}return e.prototype.getFromRemote=function(e,t){return this.http.post(this.servis.url+e,t).pipe(Object(s.a)((function(e){return e})))},e.prototype.getOptDask=function(){return this.getFromRemote("/opt/dask",{})},e.prototype.addDaskOffer=function(e){return this.getFromRemote("/off/residence/ins",e)},e.prototype.getDask=function(e){return this.http.post(this.servis.url+"/off/residence/viw",{id:e})},e.prototype.editDask=function(e){return this.http.post(this.servis.url+"/off/residence/edt",e).pipe()},e.ngInjectableDef=o["ɵɵdefineInjectable"]({factory:function(){return new e(o["ɵɵinject"](r.a),o["ɵɵinject"](l.c))},token:e,providedIn:"root"}),e}()},q4B9:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l})),i("HX77");var a=i("ylI6"),s=i("CcnG"),r=i("o3x0"),o=function(){function e(e){this.dialog=e,this.customPosition={top:"0"}}return e.prototype.confirm=function(e){return this.dialog.open(l,{data:e,position:this.customPosition}).afterClosed()},e.ngInjectableDef=s["ɵɵdefineInjectable"]({factory:function(){return new e(s["ɵɵinject"](r.e))},token:e,providedIn:"root"}),e}(),l=function(){return function(e,t){this.data=e,this._fuseSidebarService=t,this.sc=a.a}}()}}]);